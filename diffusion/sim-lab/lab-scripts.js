!function(e){var t={};function a(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=e,a.c=t,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(i,s,function(t){return e[t]}.bind(null,s));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=36)}([function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.thisLab=t.mainLab=void 0,t.setThisLab=function(e){t.thisLab=e};var i=a(6);t.mainLab=new i.MainLab(!1),t.thisLab=null;t.mainLab=parent.mainLab,-1!==window.location.href.indexOf("mheducation")&&-1===window.location.href.indexOf("qa.")&&(console.log=function(e){}),"function"!=typeof CustomEvent&&function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var a=document.createEvent("CustomEvent");return a.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),a}e.prototype=window.Event.prototype,window.CustomEvent=e}()},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pageY=t.pageX=t.touchMoved=t.touchMoveFunction=t.blockMoveEvents=t.blockEvents=t.mouseYOffset=t.mouseXOffset=t.isTouchEvent=t.tryDrag=t.domObjectToSimObject=void 0,t.clickObject=function(e){if(i.mainLab.showLabels(!1),$('[data-toggle="tooltip"]').tooltip("hide"),i.mainLab.isScreenReader){var a=$(e.target).parents("[phase!=phase]").find(":focus");return e.target=a[0],void v(e)}i.mainLab.keyboardUser&&!1===$(e.target).is("input")&&i.mainLab.useKeyboard(!1);var n=$(e.target).attr("id"),o=$(e.target);0!==o.parents("div.sim-object.svg").length&&(n=o.parents("div.sim-object.svg").attr("id"),o=o.parents("div.sim-object.svg"));o.parent().is(".dragdrop-label")&&(n=o.parent().attr("id"),o=$(o.parent()));var l=s.find(function(e){return e.id===n});void 0!==l&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation());if(void 0!==e.data&&!0===e.data.isTouch&&(o.is("#sim-timer")||o.parent().is("#sim-timer")))return void g(e);var h=o.attr("aria-label");if(null!==i.mainLab.activeObject)return""!==i.mainLab.activeObject.onTarget?(e.preventDefault(),e.stopPropagation(),void i.mainLab.activeObject.dropped()):void(!1===$(e.target).is(".sim-background")&&i.mainLab.setAriaAlertText(h.charAt(0).toUpperCase()+h.substr(1)+" is not selectable."));if(!u&&!$(o).hasClass("disabled")&&void 0!==n&&void 0!==l){var y=l.obj;if(null!==e.data?t.isTouchEvent=r=e.data.isTouch:t.isTouchEvent=r=!1,"moveable"===y.type){t.pageX=d=e.pageX,t.pageY=p=e.pageY,r&&(t.pageX=d=e.targetTouches[0].clientX,t.pageY=p=e.targetTouches[0].clientY),k(d-y.activator.position().left),L(p-y.activator.position().top),y.obj.addClass("dragging"),y.hasActivatorImage&&(y.obj.css("left",y.activator.css("left")),y.obj.css("top",y.activator.css("top")),y.obj.show(),y.obj.focus()),i.mainLab.previousState=[],$("#phase-"+i.mainLab.currentPhaseNum+" .sim-object, #phase-"+i.mainLab.currentPhaseNum+"  .drop-target, #phase-"+i.mainLab.currentPhaseNum+" .sim-btn").each(function(){i.mainLab.previousState.push({obj:$(this),enabled:$(this).attr("focusable")}),void 0!==$(this).attr("tabindex")&&b($(this),!1)}),i.mainLab.activeObject=y;for(var w=0;w<y.targets.length;w++)void 0===$("#phase-"+i.mainLab.currentPhaseNum).find("[data-id="+y.targets[w]+"]").attr("tabindex")&&b($("#phase-"+i.mainLab.currentPhaseNum).find("[data-id="+y.targets[w]+"]"),!0);r?document.addEventListener("touchmove",t.touchMoveFunction=c=function(e){m(e)},{passive:!1}):($(document).on("mousemove",f),$(".sim-holder-resize").addClass("no-cursor")),i.mainLab.prevPhaseBtn.addClass("objectBlock"),y.onTarget="",y.selected(d,p),i.mainLab.setAriaAlertText(y.description+" picked up. Next, select where to move this to."),y.obj.attr("aria-label",y.description+" in hand"),y.obj.removeAttr("aria-disabled")}else"clickable"===y.type&&(r&&"touchstart"===e.type||!r)&&y.clicked();return}},t.handleTouchMove=m,t.handleMouseMove=f,t.stopDrag=function(){if(null!==i.mainLab.activeObject){i.mainLab.activeObject.obj.removeClass("dragging"),i.mainLab.prevPhaseBtn.removeClass("objectBlock");for(var e=0;e<i.mainLab.activeObject.targets.length;e++){var t=$("#phase-"+i.mainLab.currentPhaseNum).find("[data-id="+i.mainLab.activeObject.targets[e]+"]");void 0!==t.attr("aria-label")&&-1!==t.attr("aria-label").indexOf(" to ")&&t.attr("aria-label",t.attr("aria-label").substring(t.attr("aria-label").indexOf(" to ")+4)),b(t,!1)}$(".sim-btn").each(function(){$(this).attr("tabindex",0),$(this).removeAttr("aria-disabled"),$(this).removeClass("disabled")}),i.mainLab.activeObject.obj.attr("aria-label",i.mainLab.activeObject.description)}$(document).off("mousemove"),i.mainLab.isMobile&&document.removeEventListener("touchmove",c);$(".sim-holder-resize").removeClass("no-cursor"),i.mainLab.activeObject=null},t.keyDown=v,t.mouseDown=g,t.mouseMoving=y,t.mouseUp=w,t.setBlockEvents=function(e){t.blockEvents=u=e},t.setBlockMoveEvents=function(e){t.blockMoveEvents=h=e},t.setMouseXOffset=k,t.setMouseYOffset=L,t.getMouseXOffset=j,t.getMouseYOffset=P;var i=a(0),s=(a(7),t.domObjectToSimObject=[]),n=t.tryDrag=!1,r=t.isTouchEvent=!1,o=t.mouseXOffset=0,l=t.mouseYOffset=0,u=t.blockEvents=!1,h=t.blockMoveEvents=!1,c=t.touchMoveFunction=void 0,d=(t.touchMoved=!1,t.pageX=0),p=t.pageY=0;function b(e,t){t&&void 0===e.attr("tabindex")?(e.attr("tabindex","0"),e.attr("focusable","true"),e.removeAttr("aria-disabled"),e.removeClass("disabled"),e.attr("aria-label","Move "+i.mainLab.activeObject.description+" to "+e.attr("aria-label"))):t||void 0===e.attr("tabindex")||(e.removeAttr("tabindex"),e.attr("focusable","false"),e.attr("aria-disabled",!0),e.addClass("disabled"))}function m(e){h||(i.mainLab.showLabels(!1),e.preventDefault(),e.stopPropagation(),i.mainLab.activeObject.obj.css("left",e.targetTouches[0].clientX-j()),i.mainLab.activeObject.obj.css("top",e.targetTouches[0].clientY-P()),t.isTouchEvent=r=!0,t.touchMoved=!0,i.mainLab.activeObject.checkIfOnTarget())}function f(e){h||(i.mainLab.showLabels(!1),e.preventDefault(),e.stopPropagation(),i.mainLab.activeObject.obj.css("left",e.pageX-j()),i.mainLab.activeObject.obj.css("top",e.pageY-P()),t.isTouchEvent=r=!1,i.mainLab.activeObject.checkIfOnTarget())}function v(e){if(i.mainLab.showLabels(!1),$('[data-toggle="tooltip"]').tooltip("hide"),!i.thisLab.currentPhase.phaseDiv.hasClass("inputs")&&!i.thisLab.currentPhase.phaseDiv.hasClass("results-phase")){var t=32;void 0!==e.keyCode&&(t=e.keyCode?e.keyCode:e.which);var a=$(e.target);if(a.is("#sim-timer")){var n=a.offset();return void(37===t?a.css("left",n.left-10):38===t?a.css("top",n.top-10):39===t?a.css("left",n.left+10):40===t&&a.css("top",n.top+10))}if(!u&&(13===t||32===t)){var r=$(e.target).attr("id");0!==a.parents("div.sim-object.svg").length&&(r=a.parents("div.sim-object.svg").attr("id"),a=a.parents("div.sim-object.svg"));var o=a.attr("aria-label");if(void 0!==r){if(null!==i.mainLab.activeObject){e.stopImmediatePropagation(),e.preventDefault(),e.stopPropagation();var l=$(a).attr("data-id"),h=$.inArray(l,i.mainLab.activeObject.targets);return-1!==h?(i.mainLab.activeObject.onTarget=l,i.mainLab.activeObject.onTargets=[l],void 0!==i.mainLab.activeObject.targetPositions[h]&&("number"==typeof i.mainLab.activeObject.targetPositions[h][1]&&(i.mainLab.activeObject.targetPositions[h][1]+="%"),"number"==typeof i.mainLab.activeObject.targetPositions[h][0]&&(i.mainLab.activeObject.targetPositions[h][0]+="%"),i.mainLab.activeObject.obj.css("top",i.mainLab.activeObject.targetPositions[h][1]),i.mainLab.activeObject.obj.css("left",i.mainLab.activeObject.targetPositions[h][0]),i.mainLab.activeObject.targetsCausesTransform.length>0&&$.each(i.mainLab.activeObject.targetsCausesTransform,function(e){i.mainLab.activeObject.obj.removeClass(i.mainLab.activeObject.targetsCausesTransform[e].id+"-transform"),i.mainLab.activeObject.targetsCausesTransform[e].id===l&&i.mainLab.activeObject.obj.addClass(l+"-transform")})),void i.mainLab.activeObject.dropped()):void i.mainLab.setAriaAlertText(o.charAt(0).toUpperCase()+o.substr(1)+" is not selectable.")}if(void 0===s.find(function(e){return e.id===r}))return void(void 0!==r&&i.mainLab.setAriaAlertText(o.charAt(0).toUpperCase()+o.substr(1)+" is not selectable."));var c=s.find(function(e){return e.id===r}).obj;if(c.activator.hasClass("disabled"))return void i.mainLab.setAriaAlertText(c.description+" is not selectable.");if("moveable"===c.type){$(".drop-target").removeAttr("tabindex"),e.stopImmediatePropagation(),c.hasActivatorImage&&(c.obj.css("left",c.activator.css("left")),c.obj.css("top",c.activator.css("top")),c.obj.show(),c.obj.focus()),c.obj.addClass("dragging"),$(".sim-holder-resize").addClass("no-cursor"),i.mainLab.activeObject=c,i.mainLab.previousState=[],$("#phase-"+i.mainLab.currentPhaseNum+" .sim-object, #phase-"+i.mainLab.currentPhaseNum+"  .drop-target, #phase-"+i.mainLab.currentPhaseNum+" .sim-btn").each(function(){i.mainLab.previousState.push({obj:$(this),enabled:$(this).attr("focusable")}),void 0!==$(this).attr("tabindex")&&b($(this),!1)});for(var d=0;d<c.targets.length;d++)void 0===$("#phase-"+i.mainLab.currentPhaseNum).find("[data-id="+c.targets[d]+"]").attr("tabindex")&&b($("#phase-"+i.mainLab.currentPhaseNum).find("[data-id="+c.targets[d]+"]"),!0);return i.mainLab.showLabels(!1),c.onTarget="",c.selected(),i.mainLab.setAriaAlertText(c.description+" picked up. Next, select where to move this."),c.obj.attr("aria-label",c.description+" in hand"),void c.obj.removeAttr("aria-disabled")}if("clickable"===c.type)return void c.clicked()}}}i.mainLab.doKeydown(e)}function g(e){if(null!==e)if($(e.target).is("#sim-timer")||$(e.target).parent().is("#sim-timer")){var a=$("#sim-timer");k(e.pageX-a.position().left),L(e.pageY-a.position().top),void 0!==e.data&&!0===e.data.isTouch?(k(e.targetTouches[0].pageX-a.position().left),L(e.targetTouches[0].pageY-a.position().top),$(document).on("touchmove.timer",function(e){a.css({top:e.targetTouches[0].pageY-P()+"px",left:e.targetTouches[0].pageX-j()+"px"})}),$(document).on("touchend.timer",function(){$(document).off("touchmove.timer"),$(document).off("touchend.timer")})):($(document).on("mousemove.timer",function(e){a.css({top:e.pageY-P()+"px",left:e.pageX-j()+"px"})}),$(document).on("mouseup.timer",function(){$(document).off("mousemove.timer"),$(document).off("mouseup.timer")}))}else t.tryDrag=n=[e.pageX,e.pageY],$(document).on("mousemove.tryDrag",y),$(document).on("mouseup.tryDrag",w)}function y(e){null!==n&&Math.sqrt(Math.pow(e.pageX-n[0],2)+Math.pow(e.pageY-n[1],2))>100&&(t.tryDrag=n=null,$(document).off("mousemove.tryDrag"),$(document).off("mouseup.tryDrag"),i.thisLab.currentPhase.phaseDiv.hasClass("inputs")||i.thisLab.currentPhase.phaseDiv.hasClass("results-phase")||i.mainLab.showIncorrectAlert("Click on an object to pick it up. Click again to place/use the object.",$(e.target)))}function w(){t.tryDrag=n=null,$(document).off("mousemove.tryDrag"),$(document).off("mouseup.tryDrag")}function k(e){t.mouseXOffset=o=e}function L(e){t.mouseYOffset=l=e}function j(){return o}function P(){return l}Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("this is null or not defined");var t=Object(this),a=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var i=arguments[1],s=0;s<a;){var n=t[s];if(e.call(i,n,s,t))return n;s++}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Moveable=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),s=a(1),n=a(0),r=a(3);t.Moveable=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));void 0!==e.developerMode?(a.developerMode=!0,0===$("#targetArea-"+n.thisLab.currentPhase.phaseNum).length&&($("#phase-"+n.thisLab.currentPhase.phaseNum+" #phase-objects").prepend('<div id="targetArea-'+n.thisLab.currentPhase.phaseNum+'" class="sim-object targetArea"></div>'),$("#targetArea-"+n.thisLab.currentPhase.phaseNum).css("border","1px solid red"),$("#targetArea-"+n.thisLab.currentPhase.phaseNum).css("z-index",99999)),a.color=["blue","GreenYellow","orange","purple","pink","DimGray","brown","cyan","Green","PaleVioletRed"]):a.developerMode=!1,a.type="moveable",a.currentTransform="",a.hitTarget=!1,a.widthAdjust=0,a.heightAdjust=0,a.newWidth=0,a.newHeight=0,a.defaultObj={left:0,right:100,top:0,bottom:100};var i=a.defaultObj;if(void 0!==e.triggerArea&&(void 0!==e.triggerArea.top?i=e.triggerArea:((i=e.triggerArea).left=0,i.right=100,i.top=0,i.bottom=100)),a.prevRotation=0,a.setTriggerAreaScale(i),a.triggerArea=new Object({left:a.triggerAreaScale.left,right:a.triggerAreaScale.right,top:a.triggerAreaScale.top,bottom:a.triggerAreaScale.bottom}),a.top=a.obj.css("top"),a.left=a.obj.css("left"),a.zindex=$(a.obj).css("z-index"),void 0!==e.transformTargets?a.targetsCausesTransform=e.transformTargets:a.targetsCausesTransform=[],void 0!==e.targetPositions?a.targetPositions=e.targetPositions:a.targetPositions=[],a.hasActivatorImage=!1,void 0!==e.activator?(a.activator=e.activator,a.activatorID=a.activator.attr("id"),a.hasActivatorImage=!0):a.activator=a.obj,a.targets=e.targets,a.onTarget="",s.domObjectToSimObject.push({id:a.activator.attr("id"),obj:a}),void 0!==e.clickableObjects)for(var r=e.clickableObjects.split(","),o=0;o<r.length;o++)s.domObjectToSimObject.push({id:r[o],obj:a});return a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.SimObject),i(t,[{key:"reset",value:function(e){this.hideAllObjectImages(),(0,s.stopDrag)(),this.obj.css("top",this.top),this.obj.css("left",this.left),this.obj.css("transform","");for(var t=0;t<this.targetsCausesTransform.length;t++)this.obj.removeClass(this.targetsCausesTransform[t].id+"-transform");if(this.currentTransform="",this.hasActivatorImage?(this.obj.hide(),"true"===this.activator.attr("data-hide")?this.activator.hide():this.activator.show()):"true"===this.obj.attr("data-hide")?this.obj.hide():this.obj.show(),void 0!==this.imageNames&&void 0!==this.imageNames[0]&&""!==this.imageNames[0]&&"null"!==this.imageNames[0]&&this.showObjectImage(this.imageNames[0]),!0===this.developerMode){$("#targetArea-"+n.thisLab.currentPhase.phaseNum).hide();for(var a=0;a<this.targets.length;a++)$('[data-id="'+this.targets[a]+'"]').css("border","none");this.obj.css("border","none")}this.setEnabled(e)}},{key:"selected",value:function(){if(this.hasActivatorImage&&this.activator.hide(),this.isSvg&&this.showObjectImage(this.imageNames[1]),this.obj.show(),!0===this.developerMode){for(var e=0;e<this.targets.length;e++)$('[data-id="'+this.targets[e]+'"]').css("border","1px solid "+this.color[e]);this.obj.css("border","1px solid yellow"),$("#targetArea-"+n.thisLab.currentPhase.phaseNum).show()}this.checkIfOnTarget()}},{key:"dropped",value:function(){}},{key:"isOnTarget",value:function(e){}},{key:"isOnTargets",value:function(){}},{key:"checkIfOnTarget",value:function(){this.onTarget="",this.onTargets=[];var e=!1;if(null!==this.targets){var t=this.obj[0].getBoundingClientRect(),a={width:t.width,height:t.height,top:t.top,bottom:t.bottom,left:t.left,right:t.right};0!==this.newWidth&&(a.width=this.newWidth,a.height>this.newHeight&&(a.height=this.newHeight),this.widthAdjust=(t.width-a.width)/2,this.heightAdjust=(t.height-a.height)/2),void 0!==this.triggerAreaScale&&(a.bottom=t.top+a.height*this.triggerAreaScale.bottom/100+this.heightAdjust,a.top=t.top+a.height*this.triggerAreaScale.top/100+this.heightAdjust,a.left=t.left+a.width*this.triggerAreaScale.left/100+this.widthAdjust,a.right=t.left+a.width*this.triggerAreaScale.right/100+this.widthAdjust),!0===this.developerMode&&($("#targetArea-"+n.thisLab.currentPhase.phaseNum).css("left",a.left),$("#targetArea-"+n.thisLab.currentPhase.phaseNum).css("top",a.top),$("#targetArea-"+n.thisLab.currentPhase.phaseNum).css("width",a.right-a.left),$("#targetArea-"+n.thisLab.currentPhase.phaseNum).css("height",a.bottom-a.top));for(var i=0;i<this.targets.length;i++)if("none"!==$("#phase-"+n.thisLab.currentPhase.phaseNum+" [data-id='"+this.targets[i]+"']").css("display")){var s=$("#phase-"+n.thisLab.currentPhase.phaseNum+" [data-id='"+this.targets[i]+"']")[0].getBoundingClientRect(),r=this.targets[i];if(a.right>=s.left&&s.right>=a.left&&a.bottom>=s.top&&s.bottom>=a.top){if(this.onTargets.push(r),this.onTargets.length>1&&this.isOnTargets(),!e){e=!0,this.onTarget=r,this.isOnTarget(r);var o=this.targetsCausesTransform.find(function(e){return e.id===r});void 0===o||void 0===o.area&&void 0===o.left?this.setTriggerAreaScale(this.triggerArea):this.setTriggerAreaScale(o),void 0!==o?this.currentTransform!==o.id&&(this.obj.removeClass(this.currentTransform+"-transform"),this.obj.addClass(r+"-transform"),""===this.currentTransform&&this.calculateRotateAdjustments(a.width,a.height),this.currentTransform=o.id):(this.obj.removeClass(this.currentTransform+"-transform"),this.prevRotation=this.calculateRotation(),this.setTriggerAreaScale(this.triggerArea))}}else e||(this.obj.removeClass(r+"-transform"),this.setTriggerAreaScale(this.triggerArea),this.onTarget="")}""===this.onTarget&&(this.isOnTarget(""),this.currentTransform="",this.setTriggerAreaScale(this.triggerArea),this.prevRotation=this.calculateRotation(),this.widthAdjust=0,this.heightAdjust=0,this.newWidth=0,this.newHeight=0)}}},{key:"setTriggerAreaScale",value:function(e){if(void 0===e.left||0===e.left&&100===e.right&&0===e.top&&100===e.bottom){var t="";void 0===e.area&&void 0===this.obj.attr("data-trigger-area")||(t=void 0!==e.area?e.area:this.obj.attr("data-trigger-area")),e=this.defaultObj,-1!==t.indexOf("right")?(e.right=100,e.left=67):-1!==t.indexOf("center")?(e.right=67,e.left=33):-1!==t.indexOf("left")&&(e.right=33,e.left=0),-1!==t.indexOf("bottom")?(e.bottom=100,e.top=67):-1!==t.indexOf("middle")?(e.bottom=67,e.top=33):-1!==t.indexOf("top")&&(e.bottom=33,e.top=0),this.triggerAreaScale=e}else this.triggerAreaScale=e}},{key:"calculateRotateAdjustments",value:function(e,t){var a=this.calculateRotation();Math.abs(a-this.prevRotation)<.785&&Math.abs(a-this.prevRotation)>0?(this.newWidth=e,this.newHeight=t):(this.widthAdjust=0,this.heightAdjust=0,this.newWidth=0,this.newHeight=0),this.prevRotation=a}},{key:"calculateRotation",value:function(){var e=this.obj.css("transform"),t=0;if("none"!==e){var a=e.split("(")[1].split(")")[0].split(",");t=Math.atan2(a[1],a[0])}return t}},{key:"stopDrag",value:function(){(0,s.stopDrag)()}}]),t}()},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimObject=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),s=a(0);t.SimObject=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.obj=t.domObject,this.id=this.obj.attr("id"),this.dataID=this.obj.attr("data-id"),this.type="simobject",this.enabled=!1,this.isSvg=!1,0!==this.obj.has("svg").length&&(this.isSvg=!0,void 0===t.imageNames&&(t.imageNames=this.obj.attr("data-images")),this.imageNames=t.imageNames.split(",")),this.description=this.obj.attr("aria-label"),this.activator=this.obj,void 0!==s.thisLab.currentPhase&&s.thisLab.currentPhase.objects.push(this)}return i(e,[{key:"init",value:function(){this.reset(!1)}},{key:"reset",value:function(e){this.isSvg&&this.showObjectImage(this.imageNames[0]),this.obj.attr("aria-label",this.description),this.setEnabled(e)}},{key:"complete",value:function(){this.setEnabled(!1)}},{key:"setEnabled",value:function(e){void 0===e&&(e=!0),this.enabled=e,this.enabled?(this.activator.attr("tabindex","0"),this.activator.removeClass("disabled"),this.activator.attr("focusable","true"),this.activator.removeAttr("aria-disabled")):(this.activator.addClass("disabled"),this.activator.removeAttr("tabindex"),this.activator.attr("focusable","false"),this.activator.attr("aria-disabled",!0))}},{key:"hideAllObjectImages",value:function(){this.obj.find("image").hide()}},{key:"hideObjectImage",value:function(e){this.obj.css("transform","");for(var t=e.split("|"),a=0;a<t.length;a++)this.obj.find("#"+t[a]).hide()}},{key:"showObjectImage",value:function(e,t){null!==t&&!1===t&&void 0!==t||this.hideAllObjectImages(),this.obj.css("transform","");for(var a=e.split("|"),i=0;i<a.length;i++)this.obj.find("#"+a[i]).show()}},{key:"moveAbove",value:function(e){this.obj.css("z-index",Number(e.obj.css("z-index"))+1)}}]),e}()},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}();t.PopupMatchingQuestion=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mainLab=t,this.questionXml=$(this.mainLab.stepXml).find("popup-questions"),this.btnTryAgain=$("#sim-question #btn-tryagain"),this.btnContinue=$("#sim-question #btn-continue"),this.btnSubmit=$("#sim-question #btn-submit"),this.btnClose=$("#sim-question .close"),this.questionDialog=$("#sim-question"),this.quetionID=null,this.qType="checkbox",this.isShowing=!1;void 0===t.userValues.popups&&(t.userValues.popups=[])}return i(e,[{key:"showQuestion",value:function(e){this.questionID=e;var t=this.questionXml.find('question[id="'+e+'"]'),a='<fieldset class="matching-question"><legend>'+t.attr("q")+"</legend>\n",i=[];if(void 0===t.attr("type")||"matching"!==t.attr("type"))throw"Wrong question type";t.find("choice").each(function(){i.push($(this))});for(var s=0;s<i.length;s++){var n=i[s],r=n.attr("id");a=(a=a+'<div><label id="lpq'+r+'" aria-hidden="true">'+n.find("text").html()+"</label>\n")+'<select id="pq'+r+'" aria-labelledby="lpq'+r+'" class="popupq" tabindex="0">\n<option value="0">Choose match</option></select>',a+="</div>\n"}a+="</fieldset>\n";var o=$(a),l=t.find("match");o.find("select").each(function(e,t){l.each(function(e,a){$(t).append($("<option/>").text($(a).text()).attr("value",$(a).parent().attr("id")))})});for(var u=0;u<i.length;u++)$(o).append($(">div",o).eq(Math.floor(Math.random()*i.length)));a=o[0].outerHTML,$("#sim-question .modal-body").html(a),$("#sim-question .modal-footer .feedback p").html(""),$(".popupq").change(function(e){var t=$(this).val();console.log("is keyboard user: "+h.mainLab.keyboardUser),$(".popupq").not($(this)).each(function(){$(this).val()!==t||h.mainLab.keyboardUser||$(this).val("0")})}),this.btnTryAgain.hide(),this.btnContinue.hide(),this.btnSubmit.show(),this.btnClose.hide(),this.questionDialog.modal("show"),this.isShowing=!0,this.btnSubmit.off("click"),this.btnSubmit.on("click",{popupClass:this},this.popupAnswered),this.btnTryAgain.off("click"),this.btnTryAgain.click(function(){$(".popupq").prop("checked",!1),$(".popupq").removeAttr("disabled"),"checkbox"===h.qType?$(".popupq").attr("tabindex","0"):($(".popupq").attr("tabindex","-1"),$(".popupq").first().attr("tabindex","0")),$("#sim-question .modal-footer .feedback p").html(""),h.btnTryAgain.hide(),h.btnContinue.hide(),h.btnClose.hide(),h.btnSubmit.show(),$("#sim-question").find(":tabbable").first().focus()});var h=this,c=$.grep(this.mainLab.userValues.popups,function(e){return e.id===h.questionID});0===c.length?(this.userPopupData={},this.userPopupData.id=e,this.userPopupData.errors=0,this.mainLab.userValues.popups.push(this.userPopupData),this.mainLab.updateUserValues()):this.userPopupData=c[0]}},{key:"popupAnswered",value:function(e){var t="",a="",i=[],s=e.data.popupClass;s.questionDialog.find("select").each(function(e,t){var s=$(t).attr("id").replace("pq","")===$(t).val();i.push(s),a=a+"<div>"+$(t).prev().text()+": "+(s?"Correct":"Incorrect")+"</div>"}),$(".popupq").attr("disabled","true"),$(".popupq").attr("tabindex","-1"),-1!==i.indexOf(!1)?(s.btnContinue.hide(),s.btnClose.hide(),s.btnTryAgain.show(),s.btnTryAgain.focus(),void 0===s.mainLab.userValues.completed&&(s.userPopupData.errors=s.userPopupData.errors+1,s.mainLab.updateUserValues()),t='<span class="h4">Incorrect<span style="opacity:0">:</span></span>',-1!==i.indexOf(!0)&&(t='<span class="h4">Partially correct<span style="opacity:0">:</span></span>'),t+=a):(s.btnClose.show(),s.btnTryAgain.hide(),s.btnContinue.show(),t='<span class="h4">Correct<span style="opacity:0">:</span></span>'),s.btnSubmit.hide(),$("#sim-question .modal-footer .feedback p").html(t),$("#sim-question .modal-footer").show()}},{key:"onHide",value:function(e){this.isShowing=!1,this.mainLab.thisLab.currentPhase.phaseDiv.get(0).dispatchEvent(new CustomEvent("popupClosed",{bubbles:!0,detail:{question:this.questionID}}))}}]),e}()},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}();t.PopupQuestion=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mainLab=t,this.questionXml=$(this.mainLab.stepXml).find("popup-questions"),this.btnTryAgain=$("#sim-question #btn-tryagain"),this.btnContinue=$("#sim-question #btn-continue"),this.btnSubmit=$("#sim-question #btn-submit"),this.btnClose=$("#sim-question .close"),this.questionDialog=$("#sim-question"),this.quetionID=null,this.qType="radio",this.isShowing=!1,void 0===t.userValues.popups&&(t.userValues.popups=[])}return i(e,[{key:"showQuestion",value:function(e){this.questionID=e;var t=this.questionXml.find('question[id="'+e+'"]'),a="<fieldset><legend>"+t.attr("q")+"</legend>\n",i=[],s=t.attr("correct");this.qType="radio";var n=this;-1!==s.indexOf(",")&&(this.qType="checkbox"),t.find("choice").each(function(){i.push($(this))});for(var r=0;r<i.length;r++){var o=i[r],l=o.attr("id"),u=void 0===o.find("feedback").attr("image")?"":o.find("feedback").attr("image"),h=void 0===o.find("feedback").attr("aria-label")?"":o.find("feedback").attr("aria-label");a=(a=a+'<div><input id="pq'+l+'" aria-labelledby="lpq'+l+'" class="popupq" value="'+l+'" type="'+this.qType+'" name="popupq" data-feedback="'+o.find("feedback").html()+'" data-feedback-image="'+u+'" data-feedback-image-label="'+h+'" tabindex="-1" />\n')+'<label id="lpq'+l+'" class="checkmark" aria-hidden="true">'+o.find("text").html()+"</span>\n",a+="</div>\n"}a+="</fieldset>\n";for(var c=$(a),d=0;d<i.length;d++)$(c).append($(">div",c).eq(Math.floor(Math.random()*i.length)));if("checkbox"===this.qType?$(c).find("input").attr("tabindex","0"):$(c).find("input").first().attr("tabindex",0),"checkbox"===this.qType){var p=["A.","B.","C.","D.","E.","F.","G."];$("div",c).each(function(e){$(this).attr("data-label",p[e]),$("label",$(this)).html("<span>"+p[e]+"</span> "+$("label",$(this)).html())})}a=c[0].outerHTML,$("#sim-question .modal-body").html(a),$("#sim-question .modal-footer .feedback p").html(""),$(".popupq").focus(function(){$(this).parent().addClass("focus-border")}),$(".popupq").focusout(function(){$(this).parent().removeClass("focus-border")}),$(".popupq").change(function(){"checkbox"!==n.qType?($(".popupq").attr("tabindex","-1"),$(this).is(":checked")&&$(this).attr("tabindex",0),n.btnSubmit.is("[disabled]")&&(n.btnSubmit.removeAttr("disabled"),n.btnSubmit.attr("tabindex",0),n.btnSubmit.removeAttr("aria-disabled"),n.btnSubmit.attr("focusable","true"))):$(".popupq:checked").length>0?n.btnSubmit.is("[disabled]")&&(n.btnSubmit.removeAttr("disabled"),n.btnSubmit.attr("tabindex",0),n.btnSubmit.removeAttr("aria-disabled"),n.btnSubmit.attr("focusable","true")):(n.btnSubmit.attr("disabled","true"),n.btnSubmit.attr("tabindex","-1"),n.btnSubmit.attr("aria-disabled","true"),n.btnSubmit.attr("focusable","false"))}),this.btnTryAgain.hide(),this.btnContinue.hide(),this.btnSubmit.show(),this.btnSubmit.attr("disabled","true"),this.btnSubmit.attr("tabindex","-1"),this.btnSubmit.attr("aria-disabled","true"),this.btnSubmit.attr("focusable","false"),this.btnClose.hide(),this.questionDialog.modal("show"),this.isShowing=!0,this.btnSubmit.off("click"),this.btnSubmit.on("click",{popupClass:this,correct:s},this.popupAnswered),this.btnTryAgain.off("click"),this.btnTryAgain.click(function(){$(".popupq").prop("checked",!1),$(".popupq").removeAttr("disabled"),"checkbox"===n.qType?$(".popupq").attr("tabindex","0"):($(".popupq").attr("tabindex","-1"),$(".popupq").first().attr("tabindex","0")),$("#sim-question .modal-footer .feedback p").html(""),n.btnTryAgain.hide(),n.btnContinue.hide(),n.btnClose.hide(),n.btnSubmit.show(),n.btnSubmit.attr("disabled","true"),n.btnSubmit.attr("tabindex","-1"),n.btnSubmit.attr("aria-disabled","true"),n.btnSubmit.attr("focusable","false"),$("#sim-question").find(":tabbable").first().focus()});var b=$.grep(this.mainLab.userValues.popups,function(e){return e.id===n.questionID});0===b.length?(this.userPopupData={},this.userPopupData.id=e,this.userPopupData.errors=0,this.mainLab.userValues.popups.push(this.userPopupData),this.mainLab.updateUserValues()):this.userPopupData=b[0]}},{key:"popupAnswered",value:function(e){var t=$('input[name="popupq"]:checked');if(t.length>0){var a="",i=e.data.correct.split(",");""===i[1]&&i.pop();var s=!0,n=!1;i.length===t.length?$.each(i,function(e,a){-1===t.map(function(){return $(this).val()}).get().indexOf(a)?s=!1:n=!0}):(s=!1,$.each(i,function(e,a){-1!==t.map(function(){return $(this).val()}).get().indexOf(a)&&(n=!0)}));var r=e.data.popupClass;$(".popupq").attr("disabled","true"),$(".popupq").attr("tabindex","-1"),!1===s?(r.btnContinue.hide(),r.btnClose.hide(),r.btnTryAgain.show(),r.btnTryAgain.focus(),void 0===r.mainLab.userValues.completed&&(r.userPopupData.errors=r.userPopupData.errors+1,r.mainLab.updateUserValues()),"checkbox"===r.qType&&(a='<span class="h4">Incorrect<span style="opacity:0">:</span></span>',!0===n&&(a='<span class="h4">Partially correct<span style="opacity:0">:</span></span>'))):(r.btnClose.show(),r.btnTryAgain.hide(),r.btnContinue.show(),"checkbox"===r.qType&&(a='<span class="h4">Correct<span style="opacity:0">:</span></span>')),r.btnSubmit.hide(),$('input[name="popupq"]:checked').each(function(){var e='aria-hidden="true"';""!==$(this).attr("data-feedback-image-label")&&(e='aria-label="'+$(this).attr("data-feedback-image-label")+'"');var t=""===$(this).attr("data-feedback-image")?"":'<br /><img src="'+$(this).attr("data-feedback-image")+'" '+e+" ></img>";a=a+"<div>"+("checkbox"===r.qType?"<span>"+$(this).parent().attr("data-label")+"</span> ":"")+$(this).attr("data-feedback")+t+"</div>"}),$("#sim-question .modal-footer .feedback p").html(a),$("#sim-question .modal-footer").show()}}},{key:"onHide",value:function(e){this.isShowing=!1,this.mainLab.thisLab.currentPhase.phaseDiv.get(0).dispatchEvent(new CustomEvent("popupClosed",{bubbles:!0,detail:{question:this.questionID}}))}}]),e}()},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MainLab=void 0;var i,s=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),n=a(5),r=a(4);t.MainLab=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===t){this.currentPhaseNum=1,this.totalPhases=0,this.phases=[],this.progress=1,this.progressMoveAmount=0,this.helpShowing=!1,this.labelsOn=!1,this.stepXml="",this.helpEnabled=null,this.isScreenReader=!1,this.keyboardUser=!1,this.userValues={},this.deferredArray=[],this.notesNeedSaved=!1,this.dataNeedSaved=!1,this.submitButton=$("#sim-submit-btn"),this.exitButton=$("#back-btn"),this.btnHelp=$(".sim-help-btn"),this.alertDialog=$("#sim-alert"),this.calloutDialog=$("#call-out"),this.labDataDialog=$("#sim-data"),this.incorrectPhaseAlertDialog=$("#sim-incorrect-phase"),this.incorrectAlertDialog=$("#sim-incorrect-alert-dialog"),this.ariaAlert=$("#sim-aria-live"),this.ariaDialogInterval=null,this.nextPhaseBtn=$(".next-phase-btn"),this.prevPhaseBtn=$(".prev-phase-btn"),this.modalHidden=!1,this.whatLabPath=document.location.href,this.whatLab="",this.currentSection="",this.activeObject=null,this.thisLab=null,this.previousState=[],this.previousFocusObj=null,this.loading=!0;for(var a=this.whatLabPath.split("/"),s=a.length;s>=0;s-=1)"sim-lab"!==a[s]&&"sim-lab-testing"!==a[s]||(this.whatLab=a[s-2]+"-"+a[s-1]);this.isMobile=this.isThisMobile(),this.isTestServer=this.isFromTestServer(),this.shiftKeyUsed=!1,window.mainLab=this,i=this,this.lmsIntegrationMode=!1,this.justCompleted=!1}}return s(e,[{key:"init",value:function(){i.getUserValues(),!0===i.lmsIntegrationMode&&i.STW.mode===i.STW.MODE_PREVIEW&&(i.userValues={}),i.setupAccessibilityDialog(),void 0!==i.userValues.progress?$("#menu-lab").addClass("current"):($("#menu-introduction").addClass("current"),$("#introduction").show());var e=new $.Deferred,t=setInterval(function(){null!==i.thisLab&&(e.resolve(),clearInterval(t))},100);i.deferredArray.push(e);var a=new $.Deferred;$.ajax({dataType:"html",url:i.whatLabPath+"/lab-data.html",success:function(e){$("#sim-data .modal-body").html($(e).filter("#lab-data-page")),$(".introduction-content div:eq(0)").html($(e).filter("#introduction-page")),i.initIntroduction(),i.stepXml=$(e).filter("#steps-xml").html(),$("#sim-title, head title").text($(i.stepXml).find("lab").attr("title")),$("#sim-title, head title").text($(i.stepXml).find("lab").attr("title"))},complete:function(){a.resolve()}}),i.deferredArray.push(a),$.when.apply($,i.deferredArray).done(function(){$("#lab-phases").contents().find(".sim-background").attr("aria-hidden","true"),i.deferredArray=[],$("#lab-phases").contents().find(".svg").each(function(){i.getSvg($(this))}),$.when.apply($,i.deferredArray).done(function(){$("#lab-phases").contents().find(".sim-object, .drop-target,  .sim-btn").each(function(){$(this).hasClass("sim-btn")?($(this).attr("focusable",!0),$(this).attr("aria-disabled",!1),$(this).attr("tabindex","0")):($(this).attr("focusable",!1),$(this).attr("aria-disabled",!0))}),$(".graphing-phase",$("#lab-phases").contents()).append($("#graph-phase")),$(".results-phase",$("#lab-phases").contents()).append($("#results-phase")),i.phases.push(null),i.thisLab.initLabSimulation(),i.popupQuestion=new n.PopupQuestion(i),i.popupMatchingQuestion=new r.PopupMatchingQuestion(i),i.totalPhases=i.phases.length-1,i.getUserProgress(),i.phases[1].setOutlineLinkActive(!0),void 0===i.thisLab.labData&&$(".sim-data-btn").remove(),$("#sim-loader-wait").hide(),$("#lab-phases").show(),!0===i.lmsIntegrationMode&&(i.STW.mode===i.STW.MODE_POST_TEST?(i.submitButton.hide(),i.gotoPhase(i.phases.length)):i.STW.mode===i.STW.MODE_PREVIEW&&(i.submitButton.hide(),i.showInfoAlert("Preview Mode.  Use Ctrl+Alt+k to skip ahead phases.")))})}),i.nextPhaseBtn.click(function(){$(this).hasClass("inactive")||(i.phases[i.currentPhaseNum].isCompleted?(i.gotoPhase(Number(i.currentPhaseNum)+1),i.setAriaAlertText("Moved to Phase "+i.currentPhaseNum)):i.phases[i.currentPhaseNum].checkIfPhaseCorrect())}),i.prevPhaseBtn.click(function(){$(this).is(".objectBlock")?i.showIncorrectAlert("You cannot go to a previous phase when an object is selected.",i.activeObject.obj):$(this).is(".inactive, .timerblock")||(i.gotoPhase(Number(i.currentPhaseNum)-1),i.setAriaAlertText("Moved to Phase "+i.currentPhaseNum))}),this.ariaAlert.find(".close").click(function(){i.hideAriaAlert()}),$("#sim-question .modal-footer #btn-continue").click(function(){$("#sim-question").modal("hide")}),$("div.modal").on("show.bs.modal",function(){!1===$(this).is("#sim-data")&&$("#sim-header, .sim-holder, .sim-rht-col").attr("aria-hidden","true")}),$("div.modal").on("hide.bs.modal",function(){!1===$(this).is("#sim-data")&&$("#sim-header, .sim-holder, .sim-rht-col").removeAttr("aria-hidden")}),$("#sim-notes").on("show.bs.modal",function(){$(".sim-notes-btn").hasClass("disable")?$(this).modal("hide"):(void 0!==i.getNotes()?$("#sim-notes .modal-text-input").html(i.getNotes()):$("#sim-notes .modal-text-input").html(""),i.previousFocusObj=$(".sim-notes-btn"))}),$("#sim-notes").on("hide.bs.modal",function(){i.setAriaAlertText("My Notes Dialog Closed"),i.setNotes($("#sim-notes .modal-text-input").html())}),$("#sim-notes").on("shown.bs.modal",function(e){i.thisLab.currentPhase.phaseDiv.get(0).dispatchEvent(new CustomEvent("notesShown",{bubbles:!0,detail:{}})),$(this).find(".close").focus()}),$("#sim-data").draggable({handle:"div.modal-header, div.drag-indicator",stop:function(){$("#sim-data").offset().top<-15?$("#sim-data .drag-indicator").show():$("#sim-data .drag-indicator").hide()}}),i.disableLabDataDrag=function(e){$("#sim-data").draggable({disabled:e}),e?$("#sim-data .modal-header").css("cursor","default"):$("#sim-data .modal-header").css("cursor","-webkit-grab")},$("#sim-data").on("show.bs.modal",function(e){$(".sim-data-btn").hasClass("disable")?$(this).modal("hide"):(i.thisLab.labData.onShow(e),i.previousFocusObj=$(".sim-data-btn"))}),$("#sim-data").on("shown.bs.modal",function(e){setTimeout(function(){$(this).find(".close").focus()}.bind(this),500),$(".modal-backdrop",this).css("opacity",0),i.thisLab.labData.onShown(e),$("#sim-data").offset().top<-15?$("#sim-data .drag-indicator").show():$("#sim-data .drag-indicator").hide()}),$("#sim-data").on("hide.bs.modal",function(e){i.setAriaAlertText("Lab Data Dialog Closed"),i.thisLab.labData.onHide(e)}),$("#sim-alert, #sim-incorrect-alert-dialog,#sim-info-alert-dialog").on("shown.bs.modal",function(){$(this).find(".close").focus(),$(".modal-backdrop",this).css("opacity",0)}),this.incorrectAlertDialog.find(".close").click(function(e){$("#sim-incorrect-alert-dialog").modal("hide")}),$("#sim-reset").on("show.bs.modal",function(e){i.currentPhaseNum===i.totalPhases?($(this).find("#p1").hide(),$(this).find("#alert-yes-phase").hide(),$(this).find("#alert-yes-start").text("Reset Entire Laboratory Simulation"),$(this).find("#p2").html('Selecting "<strong>Reset Entire Laboratory Simulation</strong>" will reset all progress and take you back to the beginning of the lab exercise.'),$(this).find("#question").hide()):($(this).find("#p1").show(),$(this).find("#alert-yes-phase").show(),$(this).find("#alert-yes-start").html("Entire Laboratory Simulation"),$(this).find("#p2").html('Selecting "<strong>Entire Laboratory Simulation</strong>" will reset all progress and take you back to the beginning of the lab exercise.'),$(this).find("#question").show())}),$("#sim-reset").on("shown.bs.modal",function(){i.currentPhaseNum===i.totalPhases?$(this).find("#alert-yes-start").focus():$(this).find("#alert-yes-phase").focus(),i.thisLab.currentPhase.phaseDiv.get(0).dispatchEvent(new CustomEvent("resetShown",{bubbles:!0,detail:{}}))}),$(".modal").on("hidden.bs.modal",function(e){i.modalHidden=!0,null!==i.previousFocusObj?i.previousFocusObj.focus():i.thisLab.currentPhase.phaseDiv.find('[tabindex="0"]:first').focus(),i.previousFocusObj=null,"sim-notes"===$(this).attr("id")?i.thisLab.currentPhase.phaseDiv.get(0).dispatchEvent(new CustomEvent("notesClosed",{bubbles:!0,detail:{}})):"sim-reset"===$(this).attr("id")&&i.thisLab.currentPhase.phaseDiv.get(0).dispatchEvent(new CustomEvent("resetClosed",{bubbles:!0,detail:{}}))}),$('[data-toggle="modal"]').on("focus",function(e){i.modalHidden&&(i.thisLab.currentPhase.phaseDiv.find('[tabindex="0"]:first').focus(),i.modalHidden=!1)}),$("#alert-yes-start").click(function(){i.resetLab(1),$("#sim-reset").modal("hide")}),$("#sim-reset #alert-yes-phase").click(function(){$("#sim-reset").modal("hide"),i.resetCurrentPhase()}),$("#sim-incorrect-phase #alert-yes-phase").click(function(){$("#sim-incorrect-phase").modal("hide"),i.resetCurrentPhase()}),$("#sim-incorrect-phase").on("shown.bs.modal",function(){$("#sim-incorrect-phase #alert-yes-phase").focus()}),$("#alert-cancel").click(function(){$("#sim-reset").modal("hide")}),$("#sim-outline").on("show.bs.modal",function(e){$(".sim-outline-btn").hasClass("disable")?$(this).modal("hide"):i.previousFocusObj=$(".sim-outline-btn")}),$("#sim-outline").on("hide.bs.modal",function(e){i.setAriaAlertText("Methods Dialog Closed"),i.thisLab.currentPhase.phaseDiv.get(0).dispatchEvent(new CustomEvent("methodsClosed",{bubbles:!0,detail:{}}))}),$("#sim-outline").on("shown.bs.modal",function(e){$(this).find(".close").focus(),i.thisLab.currentPhase.phaseDiv.get(0).dispatchEvent(new CustomEvent("methodsShown",{bubbles:!0,detail:{}}))}),$("#sim-reset").on("show.bs.modal",function(){$(".sim-reset-btn").hasClass("disable")?$(this).modal("hide"):i.previousFocusObj=$(".sim-restart-btn")}),$("#sim-question").on("shown.bs.modal",function(){$(this).find("input").first().focus()}),$("#sim-question").on("hidden.bs.modal",function(e){i.popupQuestion.onHide(e)}),$("#call-out").on("shown.bs.modal",function(){$(this).find(".close").focus()}),$("#sim-confirm-dialog").on("shown.bs.modal",function(){$(this).find("button:first-of-type").focus()}),$("#sim-accessible-dialog").on("hide.bs.modal",function(e){i.userValues.settings=new Object({screenreader:0}),i.userValues.settings.screenreader=i.isScreenReader=$("#use-screen-reader").is(":checked"),i.updateUserValues(),i.setAriaAlertText("Accessibility Preferences / Help Dialog Closed"),i.thisLab.currentPhase.phaseDiv.get(0).dispatchEvent(new CustomEvent("accessibleClosed",{bubbles:!0,detail:{}}))}),$("#sim-accessible-dialog").on("shown.bs.modal",function(e){i.previousFocusObj=$("#sim-accessible-btn"),$(this).find(".close").focus(),i.thisLab.currentPhase.phaseDiv.get(0).dispatchEvent(new CustomEvent("accessibleShown",{bubbles:!0,detail:{}}))}),i.isMobile&&(document.addEventListener("touchmove",function(e){e.preventDefault()},{passive:!1}),$(document).on("touchend",function(e){}),$(".inputs, .results-phase, #introduction").on("touchmove",function(e){e.stopPropagation()}),$(".sim-steps").on("touchmove",function(e){e.stopPropagation()})),i.btnHelp.on("click",function(e){e.preventDefault(),i.labelsOn?(i.showLabels(!0),i.thisLab.currentPhase.phaseDiv.get(0).dispatchEvent(new CustomEvent("helpShown",{bubbles:!0,detail:{}}))):(i.showLabels(!1),i.thisLab.currentPhase.phaseDiv.get(0).dispatchEvent(new CustomEvent("helpClosed",{bubbles:!0,detail:{}})),i.setAriaAlertText("Labels have been turned off"))}),$("ul.sim-navbar").delegate("a","keydown",function(e){var t=$(this);switch(e.which){case 37:0!==t.parent().prev().length?t.parent().prev().find("> a").click():$("ul.sim-navbar").find("li:last > a").click();break;case 39:0!==t.parent().next().length?t.parent().next().find("> a").click():$("ul.sim-navbar").find("li:first > a").click()}}),i.exitButton.click(function(e){e.preventDefault(),!0===i.lmsIntegrationMode&&i.STW.triggerAction(i.STW.ACTION_CANCEL)}),i.submitButton.click(function(e){e.preventDefault(),!0===i.lmsIntegrationMode&&i.STW.mode===i.STW.MODE_TEST&&void 0===i.userValues.completed&&i.showConfirmAlert("You have not finished this lab.  By submitting, you will no longer be able to make any further progress.  Are you sure you want to submit?",null,function(e){if(!0===e){var t=new Date;i.userValues.completed=t.toLocaleDateString("en-us")+" "+t.toLocaleTimeString("en-us"),i.justCompleted=!0,i.STW.triggerAction(i.STW.ACTION_SUBMIT)}})})}},{key:"useKeyboard",value:function(e){e?($("#lab-phases").contents().find("body").addClass("keyboard"),$("#lab-phases").contents().find("body").removeClass("no-keyboard"),$("body").addClass("keyboard"),$("body").removeClass("no-keyboard")):($("#lab-phases").contents().find("body").removeClass("keyboard"),$("#lab-phases").contents().find("body").addClass("no-keyboard"),$("body").removeClass("keyboard"),$("body").addClass("no-keyboard")),this.keyboardUser=e}},{key:"resetCurrentPhase",value:function(){i.phases[i.currentPhaseNum].reset(),void 0!==i.thisLab.labData&&i.thisLab.labData.reset(i.currentPhaseNum,!0),i.gotoPhase(i.currentPhaseNum),i.setAriaAlertText("The simulation has been reset to phase "+i.currentPhaseNum)}},{key:"resetLab",value:function(e){var t=i.progress;t>i.totalPhases&&(t=i.totalPhases),i.progress=e;var a=i.currentPhaseNum;i.userValues.progress=i.progress;for(var s=i.progress;s<=t;s++)i.currentPhaseNum=s,i.phases[s].reset(),void 0!==i.thisLab.labData&&i.thisLab.labData.reset(s);i.updateUserValues(),i.currentPhaseNum=a,i.gotoPhase(i.progress),i.setAriaAlertText("The simulation has been reset to phase "+e)}},{key:"gotoPhase",value:function(e){$("#sim-outline").modal("hide"),i.phases[i.currentPhaseNum].hide(),e>i.totalPhases&&(e=i.totalPhases),i.currentPhaseNum=e,e>1?i.prevPhaseBtn.removeClass("inactive").attr("aria-disabled","false").attr("tabindex","0"):i.prevPhaseBtn.addClass("inactive").attr("aria-disabled","true").removeAttr("tabindex"),i.phases[i.currentPhaseNum].show(),i.showLabels(!1),this.updateProgressBar(),i.updateUserValues(),$(".sim-steps").height("calc(100% - "+($("#phase-header").outerHeight()+$(".sim-rht-col-ctrl").outerHeight())+"px)")}},{key:"getUserProgress",value:function(){$("#progress-total").html(i.totalPhases);var e=$(".progress-bar-fill").width();i.progressMoveAmount=Number(e)/i.totalPhases;for(var t=1;t<=i.totalPhases;t++)i.currentPhaseNum=t,i.thisLab.currentPhase=i.phases[t],i.phases[t].initObjects();if(void 0!==i.userValues.progress){i.progress=i.userValues.progress;for(var a=1;a<i.progress;a++)i.currentPhaseNum=a,i.thisLab.currentPhase=i.phases[a],i.phases[a].complete(),i.phases[a].hide();void 0!==i.thisLab.labData&&i.thisLab.labData.complete(),i.gotoPhase(i.progress),i.currentSection="lab",$("#introduction").hide(),$("#menu-introduction").removeClass("current"),$("#menu-introduction").attr("aria-expanded","false"),$("#menu-introduction").attr("aria-selected","false"),$("#menu-introduction").attr("tabindex","-1"),$("#menu-lab").addClass("current"),$("#menu-lab").attr("aria-expanded","true"),$("#menu-lab").attr("aria-selected","true"),$("#menu-lab").attr("tabindex","0")}else i.gotoPhase(1),$("#lab").hide();void 0===i.userValues.phaseResets&&(i.userValues.phaseResets=[])}},{key:"hideAriaAlert",value:function(){i.ariaAlert.css("opacity","0")}},{key:"setAriaAlertText",value:function(e,t){void 0!==t&&t?(i.ariaAlert.find("#aria-alert-text").html(e),setTimeout(function(){i.ariaAlert.find("#aria-alert-text").html("")},5e3),console.log("Aria Assertive Alert: "+e)):(i.ariaAlert.find("#aria-text").html(e),setTimeout(function(){i.ariaAlert.find("#aria-text").html("")},2e3),console.log("Aria PoliteAlert: "+e))}},{key:"bugFixSetAriaAlertText",value:function(e,t){void 0!==t&&t?(i.ariaAlert.find("#aria-text").html(""),setTimeout(function(){i.ariaAlert.find("#aria-alert-text").html(e),setTimeout(function(){i.ariaAlert.find("#aria-alert-text").html("")},5e3),console.log("bfAria Assertive Alert: "+e)},50)):(i.ariaAlert.find("#aria-text").html(""),setTimeout(function(){i.ariaAlert.find("#aria-text").html(e),setTimeout(function(){i.ariaAlert.find("#aria-text").html("")},2e3),console.log("bfAria Polite Alert: "+e)},50))}},{key:"showCallout",value:function(e,t){i.calloutDialog.find(".modal-dialog").css("max-width","665px"),i.calloutDialog.find(".modal-body").load(t),i.calloutDialog.find(".modal-title").text(e),i.calloutDialog.modal("show")}},{key:"showCalloutImage",value:function(e,t,a,s){i.calloutDialog.find(".modal-dialog").css("max-width",a),i.calloutDialog.find(".modal-body").html('<img class="image" src="'+t+'" style="width:100%;height:auto" /> <br />'),i.calloutDialog.find(".modal-title").text(e),i.calloutDialog.find(".modal-body img").attr("aria-label","Magnified view of "+s),i.calloutDialog.modal("show")}},{key:"showGraphCallout",value:function(){i.calloutDialog.modal("show")}},{key:"hideLabData",value:function(){i.labDataDialog.modal("hide")}},{key:"showIncorrectPhaseAlert",value:function(e){i.incorrectPhaseAlertDialog.find("#incorrect-modal-text").html(e),i.incorrectPhaseAlertDialog.modal("show")}},{key:"setHelpEnabled",value:function(e){i.helpEnabled!==e&&(e?(i.btnHelp.removeClass("disable"),i.btnHelp.attr("tabindex","0"),i.btnHelp.attr("focusable","true"),i.btnHelp.removeAttr("aria-disabled")):(i.btnHelp.addClass("disable"),i.btnHelp.attr("tabindex","-1"),i.btnHelp.attr("focusable","false"),i.btnHelp.attr("aria-disabled","true"))),i.helpEnabled=e}},{key:"setButtonEnabled",value:function(e,t){e&&$(t).hasClass("disable")&&($(t).removeClass("disable"),$(t).attr("tabindex","0"),$(t).attr("focusable","true"),$(t).removeAttr("aria-disabled")),e||$(t).hasClass("disable")||($(t).addClass("disable"),$(t).removeAttr("tabindex"),$(t).attr("focusable","false"),$(t).attr("aria-disabled","true"))}},{key:"showIncorrectAlert",value:function(e,t){$("#sim-incorrect-alert-dialog #incorrect-alert-text").html(e),i.previousFocusObj=t,null===t&&(t=$(this.thisLab.currentPhase.phaseDiv)),t.parent().is("svg")&&(t=$(t.parent()),i.previousFocusObj=t);var a=t.height(),s=t.width(),n=t.css("top"),r=t.css("left");"auto"!==n&&"auto"!==r||(n=t.offset().top+73+"px",r=t.offset().left+"px");var o=$("#sim-incorrect-alert-dialog .modal-dialog"),l=$("#sim-incorrect-alert-dialog .modal-content");o.css("left",0),o.css("top",0),$("#sim-incorrect-alert-dialog").modal("show");var u=l.height()/2,h=l.width()/2,c=Number(n.substring(0,n.length-2))+a/2-u,d=Number(r.substring(0,r.length-2))+s/2-h;d=d<15?15:d,c=c<0?0:c,o.css("top",c),o.css("left",d)}},{key:"showInfoAlert",value:function(e,t){$("#sim-info-alert-dialog #info-alert-text").html(e),null!==t&&void 0!==t||(t=$("#lab-phases")),t.parent().is("svg")&&(t=$(t.parent()));var a=t.height(),i=t.width(),s=t.css("top"),n=t.css("left");"auto"!==s&&"auto"!==n||(s=t.offset().top+73+"px",n=t.offset().left+"px");var r=$("#sim-info-alert-dialog .modal-dialog"),o=$("#sim-info-alert-dialog .modal-content");r.css("left",0),r.css("top",0),$("#sim-info-alert-dialog").modal("show");var l=o.height()/2,u=o.width()/2,h=Number(s.substring(0,s.length-2))+a/2-l,c=Number(n.substring(0,n.length-2))+i/2-u;c=c<15?15:c,h=h<0?0:h,r.css("top",h),r.css("left",c)}},{key:"showConfirmAlert",value:function(e,t,a){$("#sim-confirm-dialog #confirm-alert-text").html(e),$("#sim-confirm-dialog .buttons button").off("click"),$("#sim-confirm-dialog .buttons button").click(function(){$("#sim-confirm-dialog").modal("hide"),a("true"===$(this).val())}),null===t&&(t=$(this.thisLab.currentPhase.phaseDiv)),t.parent().is("svg")&&(t=$(t.parent()));var i=t.height(),s=t.width(),n=t.css("top"),r=t.css("left");"auto"!==n&&"auto"!==r||(n=t.offset().top+73+"px",r=t.offset().left+"px");var o=$("#sim-confirm-dialog .modal-dialog"),l=$("#sim-confirm-dialog .modal-content");o.css("left",0),o.css("top",0),$("#sim-confirm-dialog").modal("show");var u=l.height()/2,h=l.width()/2,c=Number(n.substring(0,n.length-2))+i/2-u,d=Number(r.substring(0,r.length-2))+s/2-h;d=d<15?15:d,c=c<0?0:c,o.css("top",c),o.css("left",d)}},{key:"showLabels",value:function(e){if(e){i.btnHelp.addClass("clicked"),i.btnHelp.text("Hide Labels");var t,a=$("#lab-phases").contents().find("#labels"),s=i.thisLab.currentPhase.phaseDiv,n=$("#lab-phases").contents().find("#phase-holder");a.children().each(function(){if((t=s.find('[data-id="'+$(this).attr("for")+'"]')).is(":visible")){var e=Number(t.css("top").substring(0,t.css("top").length-2)),a=Number(t.css("left").substring(0,t.css("left").length-2)),i=e/Number(n.height())*100,r=a/Number(n.width())*100;$(this).css("top",i+Number($(this).attr("data-top-offset"))+"%"),$(this).css("left",r+Number($(this).attr("data-left-offset"))+"%"),$(this).show()}else $(this).hide()}),a.show(),i.setAriaAlertText("Labels for the objects in the simulation have been turned on")}else i.btnHelp.removeClass("clicked"),i.btnHelp.text("Show Labels"),$("#lab-phases").contents().find("#labels").hide();i.labelsOn=!e}},{key:"updateProgressBar",value:function(){$("#progress-current").html(i.currentPhaseNum),i.currentPhaseNum===i.totalPhases?($("#progress-current").hide(),$("#progress-total").css("background-color","#ff8c29"),$(".progress-bar-fill").width("100%")):($(".progress-bar-fill").width((i.currentPhaseNum-1)*i.progressMoveAmount),$("#progress-total").css("background-color","#ccc"),$("#progress-current").show(),$("#progress-current").css("left",(i.currentPhaseNum-1)*i.progressMoveAmount))}},{key:"doKeydown",value:function(e){var t=e.keyCode?e.keyCode:e.which;if(13===t||32===t)$(e.target)[0].hasAttribute("contenteditable")||$(e.target).is("input:text")||$(e.target).is("button")||$(e.target).is("input:checkbox")||$(e.target).is("textarea")||$(e.target).is("select")||$(e.target).is("a")||$(e.target).is("video")?32===t&&$(e.target).is("a")&&$(e.target)[0].click():(e.preventDefault(),e.stopPropagation(),$(e.target).trigger("click"));else if(9===t)e.shiftKey?i.shiftKeyUsed=!0:i.shiftKeyUsed=!1,i.keyboardUser||"none"!==$("#sim-data").css("display")||(i.useKeyboard(!0),void 0===i.userValues.settings&&$("#sim-accessible-dialog").modal("show"));else if(e.ctrlKey&&e.altKey)switch(t){case 72:$(".sim-help-btn").hasClass("disable")||($(".sim-help-btn").hasClass("clicked")?(i.showLabels(!1),i.setAriaAlertText("Labels have been turned off")):i.showLabels(!0));break;case 76:void 0===$(".sim-data-btn")||$(".sim-data-btn").hasClass("disable")||$("#sim-data").modal("show");break;case 78:$(".sim-notes-btn").hasClass("disable")||$("#sim-notes").modal("show");break;case 82:$(".sim-restart-btn").hasClass("disable")||$("#sim-reset").modal("show");break;case 77:$(".sim-outline-btn").hasClass("disable")||$("#sim-outline").modal("show");break;case 71:$(".next-phase-btn").trigger("click");break;case 27:$(".close:visible").trigger("click");break;case 75:(i.isTestServer||!0===i.lmsIntegrationMode&&i.STW.mode===i.STW.MODE_PREVIEW)&&Number(i.currentPhaseNum)<i.totalPhases&&i.gotoPhase(Number(i.currentPhaseNum)+1);break;case 68:i.isTestServer&&i.getThisLab().labData.obj.find(".data-entry *").removeAttr("disabled");break;case 83:$(".sim-steps").focus();case 81:i.isTestServer&&(i.popupQuestion.showQuestion=function(e){});break;case 80:$(".prev-phase-btn").trigger("click");break;case 83:$("#lab-phases").contents().find('[tabindex="0"]:visible:first').focus();break;case 65:break;case 88:if(i.isTestServer&&null!==i.activeObject){var a=Number(i.activeObject.obj.css("left").replace("px",""));a=Number(Math.round(100*a/$("#lab-phases").width()*20)/20).toFixed(2)+"%";var s=Number(i.activeObject.obj.css("top").replace("px",""));s=Number(Math.round(100*s/$("#lab-phases").height()*20)/20).toFixed(2)+"%"}break;case 90:$("#lab-phases").contents().find('[data-id="zoom-in"]:visible').length>0?$("#lab-phases").contents().find('[data-id="zoom-in"]:visible').trigger("click"):$("#lab-phases").contents().find('[data-id="zoom-out"]:visible').length>0&&$("#lab-phases").contents().find('[data-id="zoom-out"]:visible').trigger("click")}else 27===t&&$(".close:visible").trigger("click")}},{key:"focusIn",value:function(e){var t=$(".notabout:visible")[0];void 0!==t&&0===$(t).find($(e.target)).length?(e.stopImmediatePropagation(),this.shiftKeyUsed?$(t).find(":tabbable:visible").last().focus():$(t).find(":tabbable:visible").first().focus(),i.shiftKeyUsed=!1):void 0===t&&null!==i.activeObject&&0===$("#phase-"+i.currentPhaseNum,$("#lab-phases").contents()).find($(e.target)).length&&(e.stopImmediatePropagation(),this.shiftKeyUsed?$("#lab-phases").contents().find('[tabindex="0"]:visible:last').focus():$("#lab-phases").contents().find('[tabindex="0"]:visible:first').focus())}},{key:"restorePreviousState",value:function(){$.each(this.previousState,function(e,t){"true"===t.enabled?(t.obj.attr("tabindex","0"),t.obj.attr("focusable","true"),t.obj.removeAttr("aria-disabled"),t.obj.removeClass("disabled")):(t.obj.removeAttr("tabindex"),t.obj.attr("focusable","false"),t.obj.attr("aria-disabled",!0),t.obj.addClass("disabled"))})}},{key:"getSvg",value:function(e){var t=new $.Deferred,a=this.whatLabPath+"/"+e.attr("src");e.removeAttr("src"),$.ajax({url:a,cache:!0,success:function(t){var a=$("<div/>"),i=$(t).find("svg"),s=e.prop("attributes");$.each(s,function(){a.attr(this.name,this.value)}),i.attr("role","presentation"),i.attr("focusable","false"),$(">title",i).text(e.attr("aria-label")).attr("id","title-"+e.attr("id")),i.removeAttr("id"),a.append(i),e.replaceWith(a)},complete:function(){t.resolve()}}),i.deferredArray.push(t)}},{key:"getUserValues",value:function(){if(!1===i.lmsIntegrationMode)try{void 0!==window.localStorage["mghSmartLabs_"+this.whatLab]&&(i.userValues=JSON.parse(window.localStorage["mghSmartLabs_"+this.whatLab]))}catch(e){console.log(e)}}},{key:"updateUserValues",value:function(){!1===i.lmsIntegrationMode?window.localStorage.setItem("mghSmartLabs_"+this.whatLab,JSON.stringify(i.userValues)):i.STW.mode===i.STW.MODE_TEST&&void 0===i.userValues.completed?i.STW.triggerAction(i.STW.ACTION_SAVE):i.STW.mode===i.STW.MODE_TEST&&!0===i.justCompleted&&(i.STW.triggerAction(i.STW.ACTION_SUBMIT),i.justCompleted=!1)}},{key:"setNotes",value:function(e){i.userValues.notes=e.replace(new RegExp("\n","g"),"<br />"),i.updateUserValues()}},{key:"getNotes",value:function(){return i.userValues.notes}},{key:"copyPhase",value:function(e,t){var a=$("#phase-"+e,$("#lab-phases").contents()).clone();a.attr("id","phase-"+t),$("#phase-holder",$("#lab-phases").contents()).append(a),a.find("#phase-objects").children().each(function(){i.renameId($(this),e,t)})}},{key:"renameId",value:function(e,t,a){void 0!==e.attr("id")&&e.attr("id",e.attr("id").replace("-"+t,"-"+a)),e.is("div")?e.children().each(function(){i.renameId($(this),t,a)}):e.is("svg")&&i.copySvg(e,t,a)}},{key:"copySvg",value:function(e,t,a){e.find("clipPath").each(function(){var s=$(this),n=s.attr("id");i.renameId(s,t,a);var r=s.attr("id");i.renameId(s.find("rect"),t,a),e.find("style").text(e.find("style").text().replace(n,r));var o=new RegExp("\\.([^\\{]*)\\{\\s*clip-path").exec(e.find("style").text())[1];e.find("style").text(e.find("style").text().replace("."+o,"."+r)),e.find("."+o).addClass(r).removeClass(o)});var s=e.find("defs filter#blur");s.length>0&&(s.attr("id","blur-"+a),e.find("#images").attr("filter","url(#blur-"+a+")"))}},{key:"setThisLab",value:function(e){i.thisLab=e}},{key:"getThisLab",value:function(){return i.thisLab}},{key:"setupAccessibilityDialog",value:function(){-1!==window.navigator.userAgent.indexOf("Mac")?$(".key-combo").text("Ctrl + Opt"):$(".key-combo").text("Ctrl + Alt"),void 0!==i.userValues.settings&&($("#use-screen-reader").prop("checked",i.userValues.settings.screenreader),i.isScreenReader=$("#use-screen-reader").is(":checked")),$("#use-screen-reader").change(function(e){void 0===i.userValues.settings&&(i.userValues.settings=new Object({screenreader:0})),i.userValues.settings.screenreader=i.isScreenReader=$("#use-screen-reader").is(":checked"),i.updateUserValues()})}},{key:"initIntroduction",value:function(){$("#introduction-page").attr("tabindex",-1),$("#introduction-page ul.accordian li").attr("tabindex","0"),$("#introduction-page ul.accordian li").click(function(){$("#introduction-page ul.accordian li").not($(this)).removeClass("show"),$(this).toggleClass("show")}),$(".zoom-img").wrap($("<div/>").css("position","relative").addClass("zoom-img-wrapper").attr("tabindex",0)),$(".zoom-img-wrapper").click(function(e){e.preventDefault();var t="";void 0!==$("img",$(this)).attr("aria-label")?t=$("img",$(this)).attr("aria-label"):void 0!==$("img",$(this)).attr("aria-describedby")&&(t=$("#"+$("img",$(this)).attr("aria-describedby"))),i.showCalloutImage($("img",$(this)).attr("data-title"),$("img",$(this)).attr("src"),$("img",$(this)).attr("data-max-width"),t)})}},{key:"gotoSection",value:function(e){i.currentSection=e,$(".section").hide(),$(".menu").removeClass("current"),$(".menu").attr("aria-expanded","false"),$(".menu").attr("aria-selected","false"),$(".menu").attr("tabindex","-1"),$("#menu-"+e).addClass("current"),$("#menu-"+e).attr("aria-expanded","true"),$("#menu-"+e).attr("aria-selected","true"),$("#menu-"+e).attr("tabindex","0"),$("#"+e).show(),$("#menu-"+e).focus(),"lab"===e?(void 0===i.userValues.progress&&(i.userValues.progress=1,i.updateUserValues()),$("#introduction video").length>0&&$("#introduction video").each(function(){$(this).get(0).pause()})):void 0!==i.thisLab.timer&&i.thisLab.timer.obj.get(0).dispatchEvent(new CustomEvent("gotoIntro",{bubbles:!0,detail:{}}))}},{key:"isThisMobile",value:function(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>1}},{key:"isFromTestServer",value:function(){return-1!==location.hostname.indexOf("localhost")||-1!==location.hostname.indexOf("ccidev")}}]),e}()},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),s=a(0),n=a(1);t.Timer=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t='<div role="dialog" id="sim-timer" aria-label="Timer" aria-label="Timer" >\n';t+='<span>Elapsed Time</span>\n<div style="position:relative">\n',t+='<div id="sim-timer-progress"></div>\n<div id="sim-timer-readout" >2:00</div>\n<div id="sim-timer-pause" role="button" aria-label="pause" tabindex="0"></div>\n</div>\n<ul></ul>\n</div>',$("#phase-holder").append(t),this.completeCallback=null,this.completed=!1,this.enabled=null,this.step=null,this.obj=$("#sim-timer"),this.interval=null,this.intervalCount=0,this.totalIntervalTimes=0,this.endTimerEvent=null,this.timerTick=null,this.tickEventInSeconds=null,this.timerStop=null,this.programaticallyPaused=!1,s.mainLab.prevPhaseBtn.bind("click",this.pause.bind(this)),this.obj.on("gotoIntro",function(e){this.pause()}.bind(this))}return i(e,[{key:"init",value:function(e){e&&this.hide(!1)}},{key:"hide",value:function(e){null!==this.endTimerEvent&&this.endTimerEvent(),this.completed=!1,null!==this.step&&this.callComplete(),e&&null!==this.interval&&(clearInterval(this.interval),this.interval=null),null!==this.interval?(clearInterval(this.interval),this.obj.delay(300).hide(0)):this.obj.hide(),this.endTimerEvent=null,this.interval=null,this.step=null,this.timerType="off",s.mainLab.prevPhaseBtn.removeClass("timerblock")}},{key:"startSimpleWaitTimer",value:function(e,t,a,i){s.mainLab.setAriaAlertText("A timer simulating "+e+" appears."),s.mainLab.prevPhaseBtn.addClass("timerblock"),this.timerType="simple",s.thisLab.currentPhase.phaseDiv.append(this.obj),(0,n.setBlockEvents)(!0),this.obj.css("top",a),this.obj.css("left",t),this.obj.find("span").text("Timer"),this.endTimerEvent=i,this.timerStop=null,this.obj.find("#sim-timer-readout").html(e),this.obj.find("ul").hide(),this.obj.find("#sim-timer-progress").show();var r=this;setTimeout(function(){r.obj.find("#sim-timer-progress").addClass("elapse")},20),setTimeout(function(){r.obj.find("#sim-timer-progress").removeClass("elapse"),null!==this.endtimerEvent?s.mainLab.setAriaAlertText("Timer has finished.",!0):s.mainLab.setAriaAlertText("Timer has finished."),r.hide(!1),(0,n.setBlockEvents)(!1)},4020),this.obj.find("#sim-timer-pause").hide(),this.obj.show()}},{key:"startElapsedTimer",value:function(e,t,a,i,r,o,l,u){this.timerType="wait",s.thisLab.currentPhase.phaseDiv.append(this.obj),(0,n.setBlockEvents)(u),this.obj.css("top",a),this.obj.css("left",t),this.obj.find("span").text("Elapsed Time"),this.endTimerEvent=null,this.timerTick=r,this.tickEventInSeconds=i,this.timerStop=o,this.timeEnd=null,this.setTimeReadoutText(0);if(this.obj.find("#sim-timer-progress").hide(),null===e)this.obj.find("ul").hide();else{this.obj.find("ul").show(),this.obj.find("ul").empty(),this.obj.find("ul").append("<li>Skip</li>"),console.log(e);for(var h=0;h<e.length;h++){var c="seconds";-1!==e[h].indexOf("m")?c=1===Number(e[h].substring(0,e[h].length-1))?"minute":"minutes":-1!==e[h].indexOf("h")&&(c=1===Number(e[h].substring(0,e[h].length-1))?"hour":"hours"),this.obj.find("ul").append("<li><span id="+e[h]+' role="button" aria-label="skip '+e[h]+'" tabindex="0" data-time-amount="'+c+'">'+e[h]+"</span></li>")}this.obj.find("ul span").off("click"),this.obj.find("ul span").off("keydown"),this.obj.find("ul span").bind("click",{t:this},this.skipButtonClick),this.obj.find("ul span").bind("keydown",{t:this},this.skipButtonKeyDown),e.length>0&&this.obj.find("#"+e[0]).focus()}var d=this.obj.find("#sim-timer-pause");null!==l&&!0===l?(d.show(),d.removeClass("play"),d.attr("aria-label","pause"),d.off("click"),d.off("keydown"),d.bind("click",{t:this},this.pausePlayButtonClick),d.bind("keydown",{t:this},this.pausePlayButtonKeyDown),d.removeAttr("aria-disabled"),d.removeClass("disabled"),d.attr("tabindex","0")):d.hide(),this.obj.show(),this.intervalCount=0,this.totalIntervalTimes=0,this.interval=setInterval(this.updateElapsedTime,1e3,this)}},{key:"pausePlayButtonKeyDown",value:function(e){var t=e.keyCode?e.keyCode:e.which;13!==t&&32!==t||(e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault(),e.data.t.pausePlayButtonClick(e))}},{key:"pausePlayButtonClick",value:function(e){e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation();var t=e.data.t,a=t.obj.find("#sim-timer-pause");if(a.hasClass("disabled"))return s.mainLab.showIncorrectAlert(a.attr("disabled-message"),$("#sim-timer")),"disabled";a.hasClass("play")?(t.programaticallyPaused=!1,t.interval=setInterval(t.updateElapsedTime,1e3,t),t.obj.find("ul li span").each(function(){$(this).attr("tabindex",0),$(this).removeClass("disabled"),$(this).removeAttr("aria-disabled")}),s.mainLab.setAriaAlertText("The timer has resumed.")):(clearInterval(t.interval),s.mainLab.setAriaAlertText("The timer is paused at "+t.getCurrentTimeReadoutForAria(t)),t.obj.find("ul li span").each(function(){$(this).removeAttr("tabindex"),$(this).addClass("disabled"),$(this).attr("aria-disabled","true")})),a.toggleClass("play")}},{key:"pause",value:function(){var e=this;if("wait"===this.timerType){this.programaticallyPaused=!0,clearInterval(this.interval);var t=this.obj.find("#sim-timer-pause");t.addClass("play"),t.attr("aria-label","play"),t.is(":visible")||(t.show(),t.off("click"),t.off("keydown"),t.bind("click",{t:this},this.pausePlayButtonClick),t.bind("keydown",{t:this},this.pausePlayButtonKeyDown)),this.obj.find("ul li span").each(function(){$(this).removeAttr("tabindex"),$(this).addClass("disabled"),$(this).attr("aria-disabled","true")}),setTimeout(function(){s.mainLab.setAriaAlertText("The timer is paused at "+e.getCurrentTimeReadoutForAria(e))}.bind(this),200)}}},{key:"disablePlayPauseButton",value:function(e){var t=this.obj.find("#sim-timer-pause");t.addClass("disabled"),t.attr("disabled-message",e)}},{key:"enablePlayPauseButton",value:function(){var e=this.obj.find("#sim-timer-pause");e.removeClass("disabled"),e.removeAttr("disabled-message")}},{key:"skipButtonKeyDown",value:function(e){var t=e.keyCode?e.keyCode:e.which;13!==t&&32!==t||(e.stopImmediatePropagation(),e.preventDefault(),e.stopPropagation(),e.data.t.skipButtonClick(e,$(this)))}},{key:"skipButtonClick",value:function(e,t){e.stopImmediatePropagation(),e.preventDefault(),e.stopPropagation();var a=e.data.t;if(!a.obj.find("#sim-timer-pause").hasClass("play")){void 0===t&&(t=$(this));var i=t.attr("data-time-amount"),n=Number(t.text().substring(0,t.text().length-1));s.mainLab.setAriaAlertText("The timer has been advanced by "+n+" "+i),a.speedUpTime(i,n)}}},{key:"speedUpTime",value:function(e,t){this.intervalCount=0;var a=.5;this.totalIntervalTimes=3600*t,"seconds"===e?(a=100,this.totalIntervalTimes=t):"minutes"!==e&&"minute"!==e||(a=t<15?5:2.5,this.totalIntervalTimes=60*t),null!==this.interval&&clearInterval(this.interval),this.interval=setInterval(this.updateElapsedTime,a,this)}},{key:"endSpeedUpTime",value:function(){}},{key:"updateElapsedTime",value:function(e){e.intervalCount=e.intervalCount+1;var t=e.getCurrentTimeReadoutInSeconds(e);null!==e.timerTick&&0===Number(t%e.tickEventInSeconds)&&e.timerTick(t),e.setTimeReadoutText(t+1),null===e.timerStop||Number(t)+1<e.timerStop?Number(e.intervalCount)===Number(e.totalIntervalTimes)&&(clearInterval(e.interval),e.intervalCount=0,e.totalIntervalTimes=0,e.endSpeedUpTime(),e.programaticallyPaused||(e.interval=setInterval(e.updateElapsedTime,1e3,e),s.mainLab.setAriaAlertText("The timer now reads "+e.getCurrentTimeReadoutForAria(e)))):(Number(t)+1===e.timerStop&&e.timerTick(t+1),clearInterval(e.interval),e.obj.find("#sim-timer-pause").off("click").off("keydown"),e.obj.find("ul span").off("click").off("keydown"),e.obj.find("ul li span").each(function(){$(this).removeAttr("tabindex"),$(this).addClass("disabled"),$(this).attr("aria-disabled","true")}),e.obj.find("#sim-timer-pause").each(function(){$(this).removeAttr("tabindex"),$(this).addClass("disabled"),$(this).attr("aria-disabled","true")}),s.mainLab.setAriaAlertText("The timer has stopped at "+e.getCurrentTimeReadoutForAria(e)))}},{key:"getCurrentTimeReadoutForAria",value:function(e){var t=e.getCurrentTimeReadoutInSeconds(e),a=1===Math.floor(t%60)?"":"s";if(t<60)return t+" second"+a;if(t<3600){var i=1===Math.floor(t/60)?"":"s",s=t%60!=0?" and "+t%60+" second"+a:"";return Math.floor(t/60)+" minute"+i+s}i=1===Math.floor(t%3600/60)?"":"s";var n=1===Math.floor(t/3600)?"":"s",r=(s=t%60!=0?" and "+t%60+" second"+a:"",0!==Math.floor(t%3600/60)?", "+Math.floor(t%3600/60)+" minute"+i:"");return Math.floor(t/3600)+"hour"+n+r+s}},{key:"getCurrentTimeReadoutInSeconds",value:function(e){var t,a,i,s=e.obj.find("#sim-timer-readout").html();return s.split(":").length>2?(t=s.substring(0,s.indexOf(":")),a=""===(a=s.substring(s.indexOf(":")+1,s.lastIndexOf(":")))?0:Number(a),i=Number(s.substring(s.lastIndexOf(":")+1))):(t=0,a=""===(a=s.substring(0,s.indexOf(":")))?0:Number(a),i=s.substring(s.indexOf(":")+1)),Number(3600*t+60*a+Number(i))}},{key:"setTimeReadoutText",value:function(e){var t;e=Number(e);var a=Math.floor(e/3600),i=Math.floor((e-3600*Number(a))/60),s=e-3600*Number(a)-60*Number(i);e>=3600?(s=s<10?"0"+s:s,t=a+":"+(i=i<10?"0"+i:i)+":"+s):t=e>=60?(i=Math.floor(e/60))+":"+(s=(s=e-60*Number(i))<10?"0"+s:s):":"+(s=e<10?"0"+e:e),this.obj.find("#sim-timer-readout").html(t)}}]),e}()},,,function(e,t,a){e.exports=a.p+"lab-data.html"},function(e,t,a){e.exports=a.p+"lab-phases.html"},function(e,t,a){e.exports=a.p+"index.html"},,function(e,t,a){},,,,,,,function(e,t,a){},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LabData=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),s=a(0);t.LabData=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.errorCount=0,this.obj=$("#sim-data",parent.document),this.id=this.obj.attr("id"),this.needSave=!1,this.dataLoaded=!1,$("input, textarea",this.obj).on("blur",this.dataChanged.bind(this)),$("select",this.obj).on("change",this.dataChanged.bind(this)),$('button[data-type="image-loader"]',this.obj).on("click",this.imageLoaderClick.bind(this)),$('input[data-type="number"]',this.obj).keydown(function(e){this.needSave=!0;var t=e.keyCode;t>=96&&t<=105&&(t-=48);var a=String.fromCharCode(t);RegExp("[0-9]").test(a)||190===t||110===t||8===t||46===t||37===t||39===t||9===t||e.preventDefault()}),this.obj.find("div.warning").attr("aria-live","polite").removeAttr("role")}return i(e,[{key:"complete",value:function(){this.loadData()}},{key:"saveData",value:function(){var e=$(".data-entry",this.obj).find('input:disabled, select:disabled, button[data-type="image-loader"]:disabled').removeAttr("disabled"),t=$("form",this.obj).serializeArray();t=t.concat($('button[data-type="image-loader"]',this.obj).map(function(){return{name:this.name,value:this.value}}).get()),s.mainLab.userValues.labData=t,e.attr("disabled","disabled"),this.needSave=!1;var a=!0,i=!1,n=[];$('[data-phase="'+s.mainLab.currentPhaseNum+'"]',this.obj).each(function(){n[$(this).attr("class")]=!0,""===$(this).val()&&(a=!1,n[$(this).attr("class")]=!1),i=!0}),a&&i?this.LabDataCompleted(!0):i&&this.LabDataCompleted(!1,n)}},{key:"loadData",value:function(){if(null!==s.mainLab.userValues.labData){var e=this;$.each(s.mainLab.userValues.labData,function(t,a){var i=$('[name="'+a.name+'"]',$("form",e.obj)),n=Number(i.attr("data-phase"));if(!0===s.mainLab.phases[n].isCompleted)if(i.is("input"))i.val(a.value);else if(i.is("select"))i.find("option").removeAttr("selected"),i.find('option[value="'+a.value+'"]').attr("selected","selected");else if(i.is('button[data-type="image-loader"]')){var r=i.find("img");"show"===a.value?r.length>0?r.attr("src",i.attr("data-src")):(i.text(""),i.append($("<img/>").attr("src",i.attr("data-src")))):i.text(i.attr("data-text")),e.onShown()}})}}},{key:"getData",value:function(){if(null!==s.mainLab.userValues.labData)return s.mainLab.userValues.labData}},{key:"reset",value:function(e,t){void 0!==e&&($('[data-phase="'+e+'"]',this.obj).val("").removeAttr("selected").removeAttr("aria-invalid"),$('button[data-type="image-loader"][data-phase="'+e+'"]',this.obj).each(function(){$(this).html(""),$(this).text($(this).attr("data-text")),$(this).val("")})),void 0!==t&&!1!==t||(this.needSave=!0,this.saveData())}},{key:"dataChanged",value:function(e){this.needSave=!0,this.saveData();var t=!1;""!==$(e.target).val()&&(t=this.LabDataCustomCheck(e)),this.handleWarning(e,t),this.onShown()}},{key:"imageLoaderClick",value:function(e){e.preventDefault();var t=$(e.target);t.has("img").length>0?s.mainLab.setAriaAlertText("Image already saved to lab data."):(t.text(""),t.append($("<img />").attr("src",t.attr("data-src"))),t.val("show"),this.dataChanged(e),s.mainLab.setAriaAlertText("Image saved to lab data."),t.attr("aria-label",t.attr("data-description")))}},{key:"handleWarning",value:function(e,t){var a=$(e.target);!1===a[0].hasAttribute("data-warning-class")&&a.attr("data-warning-class",a.attr("class"));var i=a.attr("data-warning-class");this.obj.find(".warning."+i).toggle(t);var n=this.obj.find(".warning."+i).text();this.obj.find(".warning."+i).text("");var r=this;setTimeout(function(){""!==n&&r.obj.find(".warning."+i).text(n)},80),t?(a.attr("aria-invalid","true"),$(e.relatedTarget).is("button.close")?s.thisLab.labData.errorCount=1:$(e.relatedTarget).is(".next-phase-btn")&&(s.thisLab.labData.errorCount=1)):a.removeAttr("aria-invalid"),this.obj.find("#warning").show();var o=$(".warning:visible",this.obj).length>0;this.obj.find("#warning").toggle(o)}},{key:"enablePhaseInput",value:function(e){this.obj.find(e+"[data-phase="+s.mainLab.currentPhaseNum+"]").removeAttr("disabled")}},{key:"disablePhaseInput",value:function(e){this.obj.find(e+"[data-phase="+s.mainLab.currentPhaseNum+"]").attr("disabled","disabled")}},{key:"onShow",value:function(){this.needSave=!1,this.loadData(),this.errorCount=0,$(".data-entry input, .data-entry select, .data-entry button",this.obj).attr("disabled","disabled"),$("#warning, .warning",this.obj).hide(),s.thisLab.currentPhase.isCompleted||$(".data-entry *[data-phase="+s.mainLab.currentPhaseNum+"]",this.obj).removeAttr("disabled")}},{key:"onShown",value:function(){var e=this;setTimeout(function(){$(e.obj).height($(e.obj).find(".modal-content").outerHeight())},100)}},{key:"onHide",value:function(e){0!==this.errorCount&&(e.preventDefault(),e.stopImmediatePropagation(),this.errorCount=0),this.needSave&&this.saveData()}},{key:"LabDataCustomCheck",value:function(){return!0}},{key:"LabDataCompleted",value:function(){}}]),e}()},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ThisLabData=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),s=a(22),n=a(0);t.ThisLabData=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return $('input[data-type="number"]',a.obj).off("keydown"),$('input[data-type="number"]',a.obj).keydown(function(e){this.needSave=!0;var t=e.keyCode;t>=96&&t<=105&&(t-=48);var a=String.fromCharCode(t);RegExp("[0-9]").test(a)||8===t||46===t||37===t||39===t||9===t||(e.preventDefault(),190!==t&&110!==t||n.mainLab.showIncorrectAlert("You dont need to be that precise with your measurements for this lab. Just round to the nearest whole number.",$(e.target)))}),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.LabData),i(t,[{key:"onShow",value:function(){(function e(t,a,i){null===t&&(t=Function.prototype);var s=Object.getOwnPropertyDescriptor(t,a);if(void 0===s){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,a,i)}if("value"in s)return s.value;var r=s.get;return void 0!==r?r.call(i):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onShow",this).call(this),n.mainLab.currentPhaseNum>1&&n.mainLab.currentPhaseNum<5&&!0!==n.thisLab.currentPhase.tube.liquidDone&&this.disablePhaseInput(".liquid-volume")}},{key:"LabDataCompleted",value:function(e){n.thisLab.currentPhase.stepsArray[4].completed=e}},{key:"LabDataCustomCheck",value:function(e){var t=$(e.target),a=!1;if(""!==t.val()){var i=Number(t.val()),s=Number(t.attr("data-min")),n=Number(t.attr("data-max"));(i<s||i>n)&&(a=!0)}return a}}]),t}()},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Water=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),s=a(2),n=a(0);t.Water=function(e){function t(e,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.concentration=a,i.hasBeenAdded=!1,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Moveable),i(t,[{key:"dropped",value:function(){(function e(t,a,i){null===t&&(t=Function.prototype);var s=Object.getOwnPropertyDescriptor(t,a);if(void 0===s){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,a,i)}if("value"in s)return s.value;var r=s.get;return void 0!==r?r.call(i):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"dropped",this).call(this),this.onTarget===this.targets[0]?(n.thisLab.currentPhase.tube.showObjectImage("mid-beaker-syrup-water"),n.mainLab.setAriaAlertText(n.thisLab.currentPhase.stepsArray[3].reactionText),this.hasBeenAdded=!0):this.onTarget===this.targets[1]&&(this.reset(!this.hasBeenAdded),this.hasBeenAdded?(n.thisLab.currentPhase.btnZoomIn.obj.show(),n.thisLab.currentPhase.tube.startLiquid(),n.mainLab.setAriaAlertText("Bottle of distilled water returned to table.  Liquid in thisle tube begins to rise, an interactive timer is now on screen.")):n.mainLab.setAriaAlertText("Bottle of distilled water returned to table."))}}]),t}()},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Membrane=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),s=function e(t,a,i){null===t&&(t=Function.prototype);var s=Object.getOwnPropertyDescriptor(t,a);if(void 0===s){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,a,i)}if("value"in s)return s.value;var r=s.get;return void 0!==r?r.call(i):void 0},n=a(2),r=a(0);t.Membrane=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.questionAnswered=!1,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.Moveable),i(t,[{key:"init",value:function(){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this),this.setEnabled()}},{key:"dropped",value:function(){this.onTarget===this.targets[0]&&(r.thisLab.currentPhase.tube.showObjectImage("mid-beaker-membrane"),this.reset(!1),this.obj.hide(),r.thisLab.currentPhase.stepsArray[1].complete(),r.mainLab.setAriaAlertText(r.thisLab.currentPhase.stepsArray[1].reactionText),2===r.mainLab.currentPhaseNum?(!1===this.questionAnswered&&(r.mainLab.popupQuestion.showQuestion(1),this.questionAnswered=!0),r.thisLab.currentPhase.cornSyrup10.setEnabled(!0)):3===r.mainLab.currentPhaseNum?r.thisLab.currentPhase.cornSyrup20.setEnabled(!0):4===r.mainLab.currentPhaseNum&&r.thisLab.currentPhase.cornSyrup30.setEnabled(!0))}},{key:"complete",value:function(){this.obj.hide()}},{key:"reset",value:function(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"reset",this).call(this,e),this.questionAnswered=!1}}]),t}()},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ThistleTube=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),s=a(3),n=a(0);t.ThistleTube=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.liquidLevel=0,a.liquidDone=!1,a.objZoom=$("#"+a.id.replace("beaker","beaker-zoom")),a.growHeight=[null,null,3,7,12],a.ppml=28,a.ppmlZoom=53,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.SimObject),i(t,[{key:"complete",value:function(){this.showObjectImage("mid-beaker-syrup-water-15|mid-beaker-syrup-water|mid-beaker-membrane"),this.liquidLevel=this.growHeight[n.mainLab.currentPhaseNum],this.liquidDone=!0;var e=this.obj.find("#mid-beaker-syrup-water-15-mask-"+n.mainLab.currentPhaseNum);e.attr("y",Number(e.attr("y"))+Number(e.attr("height"))-this.liquidLevel*this.ppml),e.attr("height",this.liquidLevel*this.ppml),this.obj.attr("aria-label","Beaker holding thistle tube showing a bubble height of "+this.liquidLevel+" milliliters")}},{key:"reset",value:function(e){(function e(t,a,i){null===t&&(t=Function.prototype);var s=Object.getOwnPropertyDescriptor(t,a);if(void 0===s){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,a,i)}if("value"in s)return s.value;var r=s.get;return void 0!==r?r.call(i):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"reset",this).call(this,e),this.liquidLevel=0,this.liquidDone=!1,this.resetLiquid(),this.obj.find(">title").text(this.description),this.objZoom.find(">title").text(this.description)}},{key:"startLiquid",value:function(){this.resetLiquid(),n.thisLab.currentPhase.btnZoomIn.clicked(),n.thisLab.timer.startElapsedTimer(["2m","5m"],"27%","25%",1,this.liquidGrow.bind(this),600,!1,!1),this.showObjectImage("mid-beaker-syrup-water-15|mid-beaker-syrup-water-15|mid-beaker-syrup-water|mid-beaker-membrane")}},{key:"liquidGrow",value:function(e){var t=this.growHeight[n.mainLab.currentPhaseNum]*this.ppml/600,a=this.growHeight[n.mainLab.currentPhaseNum]*this.ppmlZoom/600,i=this.obj.find("#mid-beaker-syrup-water-15-mask-"+n.mainLab.currentPhaseNum);i.attr("height",Math.max(0,Number(i.attr("height"))+t)),i.attr("y",Number(i.attr("y"))-t);var s=this.objZoom.find("#mid-beaker-syrup-15-zoom-mask-"+n.mainLab.currentPhaseNum);s.attr("height",Math.max(0,Number(s.attr("height"))+a)),s.attr("y",Number(s.attr("y"))-a),this.liquidLevel=Number(i.attr("height")*this.ppml),600===e&&(this.liquidDone=!0,n.thisLab.labData.enablePhaseInput(".liquid-volume"),n.thisLab.currentPhase.stepsArray[3].complete(),this.liquidLevel=this.growHeight[n.mainLab.currentPhaseNum],n.mainLab.setAriaAlertText("After 10 minutes, the volume of liquid in the thisle tube is "+this.growHeight[n.mainLab.currentPhaseNum]+" milliliters",!0),this.obj.attr("aria-label","Beaker holding thistle tube showing a bubble height of "+this.liquidLevel+" milliliters"),this.objZoom.attr("aria-label","Beaker holding thistle tube showing a bubble height of "+this.liquidLevel+" milliliters"))}},{key:"resetLiquid",value:function(){var e=this.obj.find("#mid-beaker-syrup-water-15-mask-"+n.mainLab.currentPhaseNum);e.attr("y",Number(e.attr("y"))+Number(e.attr("height"))),e.attr("height",0);var t=this.objZoom.find("#mid-beaker-syrup-15-zoom-mask-"+n.mainLab.currentPhaseNum);t.attr("y",Number(t.attr("y"))+Number(t.attr("height"))),t.attr("height",0)}}]),t}()},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CornSyrup=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),s=function e(t,a,i){null===t&&(t=Function.prototype);var s=Object.getOwnPropertyDescriptor(t,a);if(void 0===s){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,a,i)}if("value"in s)return s.value;var r=s.get;return void 0!==r?r.call(i):void 0},n=a(2),r=a(0);t.CornSyrup=function(e){function t(e,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.concentration=a,i.hasBeenAdded=!1,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.Moveable),i(t,[{key:"dropped",value:function(){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"dropped",this).call(this),this.onTarget===this.targets[0]?(r.thisLab.currentPhase.tube.showObjectImage("mid-beaker-syrup"),this.hasBeenAdded=!0,r.mainLab.setAriaAlertText(r.thisLab.currentPhase.stepsArray[2].reactionText)):this.onTarget===this.targets[1]&&(this.hasBeenAdded&&(r.thisLab.currentPhase.stepsArray[2].complete(),r.thisLab.currentPhase.water.setEnabled(!0)),this.reset(!this.hasBeenAdded),r.mainLab.setAriaAlertText(this.description+" has been returned to the table."))}},{key:"reset",value:function(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"reset",this).call(this,e),this.hasBeenAdded=!1}}]),t}()},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}();t.Step=function(){function e(t,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.text="",this.reactionText="",this.completed=!1,this.phase=a,this.stepNum=t,this.dragDrop=[]}return i(e,[{key:"reset",value:function(){this.completed=!1}},{key:"complete",value:function(){this.completed=!0}},{key:"checkDragDropComplete",value:function(){if(this.dragDrop.length>0){this.completed=!0;for(var e=0;e<this.dragDrop.length;e++)if(!1===this.dragDrop[e].correct){this.completed=!1;break}}}},{key:"setText",value:function(e,t){this.text=e,this.reactionText=t}},{key:"addCheckToStepText",value:function(){this.checkDragDropComplete(),this.completed&&($("#step"+this.stepNum,parent.document).addClass("completed"),$("#step"+this.stepNum,parent.document).addClass("animation"),$("#step"+this.stepNum,parent.document).html(""))}},{key:"addStepText",value:function(e){e?$(".sim-steps",parent.document).append('<div class="sim-step"><span id="step'+this.stepNum+'" class="completed"></span>'+this.text+"</div>"):$(".sim-steps",parent.document).append('<div class="sim-step" ><span id="step'+this.stepNum+'">'+this.stepNum+"</span>"+this.text+"</div>")}}]),e}()},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Phase=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),s=a(0),n=a(28),r=a(1);t.Phase=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.phaseDiv=$("#phase-"+t),this.objects=[],this.nextPhaseBtn=s.mainLab.nextPhaseBtn,this.stepsArray=[],this.numSteps=0,this.phaseNum=t,this.isCompleted=!1,this.title="",this.incorrectPhaseText="",this.incorrectSteps=[],this.init()}return i(e,[{key:"init",value:function(){var e=this;this.title=$(s.mainLab.stepXml).find('phase[id="'+this.phaseNum+'"]').attr("title"),this.phaseDiv.hasClass("inputs"),$("#sim-outline #outline-steps",parent.document).append('<li><strong><span></span><a href="javascript:;" role="link" aria-disabled="true" id="phase-'+this.phaseNum+'-outline" aria-label="Go to phase '+this.phaseNum+" "+this.title+'"><h5>Phase '+this.phaseNum+": "+this.title+"</h5></a></strong>");var t=$("<ol></ol>"),a=1;e.stepsArray.push(null),$(s.mainLab.stepXml).find('phase[id="'+this.phaseNum+'"]').find("step").each(function(){e.stepsArray.push(new n.Step(a,e)),e.stepsArray[a].setText($(this).find("text").html(),$(this).find("reaction").html()),t.append('<li id="out-p'+e.phaseNum+"s"+a+'">'+$(this).find("text").html()+"</li>"),a+=1}),this.numSteps=a-1,$("#sim-outline #outline-steps",parent.document).append(t).append("</li>")}},{key:"complete",value:function(){this.isCompleted=!0,$("#phase-"+this.phaseNum+"-outline",parent.document).parent().addClass("complete"),s.mainLab.totalPhases>=Number(this.phaseNum)+1&&s.mainLab.phases[Number(this.phaseNum)+1].setOutlineLinkActive(!0);for(var e=0;e<this.objects.length;e++)this.objects[e].complete();for(e=1;e<this.stepsArray.length;e++)this.stepsArray[e].complete();this.phaseDiv.is(".no-reset")&&this.phaseDiv.addClass("graded"),this.onComplete()}},{key:"disableAllObjects",value:function(){for(var e=0;e<this.objects.length;e++)this.objects[e].setEnabled(!1)}},{key:"initObjects",value:function(){for(var e=0;e<this.objects.length;e++)this.objects[e].init()}},{key:"reset",value:function(){s.thisLab.currentPhase=this,this.isCompleted=!1,this.initObjects();for(var e=1;e<this.stepsArray.length;e++)this.stepsArray[e].reset();$("#phase-"+this.phaseNum+"-outline",parent.document).parent().removeClass("complete"),s.mainLab.totalPhases>=Number(this.phaseNum)+1&&s.mainLab.phases[Number(this.phaseNum)+1].setOutlineLinkActive(!1),this.phaseDiv.is(".no-reset")&&this.phaseDiv.removeClass("graded"),$("#phase-description",parent.document).find("#completedText").remove()}},{key:"show",value:function(){this.isCompleted?(0,r.setBlockEvents)(!0):((0,r.setBlockEvents)(!1),(0,r.setBlockMoveEvents)(!1)),(0,r.stopDrag)(),s.mainLab.activeObject=null,s.thisLab.currentPhase=this,$(".steps-complete").stop(),$(".steps-complete").css("z-index","800"),$(".steps-complete").css("opacity","0"),$(".steps-complete").hide(),this.phaseDiv.hasClass("results-phase")?(s.mainLab.setHelpEnabled(!1),s.mainLab.setButtonEnabled(!1,$(".sim-data-btn",parent.document)),s.mainLab.setButtonEnabled(!1,$(".sim-notes-btn",parent.document))):this.phaseDiv.hasClass("inputs")||this.phaseDiv.hasClass("no-reset")?(s.mainLab.setHelpEnabled(!1),s.mainLab.setButtonEnabled(!0,$(".sim-data-btn",parent.document)),s.mainLab.setButtonEnabled(!0,$(".sim-notes-btn",parent.document))):(s.mainLab.setHelpEnabled(!0),s.mainLab.setButtonEnabled(!0,$(".sim-data-btn",parent.document)),s.mainLab.setButtonEnabled(!0,$(".sim-notes-btn",parent.document))),s.mainLab.ariaAlert.css("opacity","0"),s.mainLab.incorrectPhaseAlertDialog.modal("hide"),s.mainLab.incorrectAlertDialog.modal("hide"),s.mainLab.hideLabData(),$(".sim-steps",parent.document).html("");for(var e=1;e<=this.numSteps;e++)this.stepsArray[e].addStepText(this.isCompleted);$("#phase-number",parent.document).text(this.phaseNum),$("#phase-title",parent.document).html(this.title);var t=$(s.mainLab.stepXml).find('phase[id="'+this.phaseNum+'"] description').text();$("#phase-description",parent.document).html(t),$("#phase-description-header",parent.document).attr("aria-hidden",""===t.trim()),this.isCompleted&&$("#phase-description",parent.document).prepend('<span id="completedText" class="completed-aria-text">This phase has been completed.<span>'),console.log("Aria phase desc: "+$("#phase-description",parent.document).html()),this.phaseNum!==s.mainLab.totalPhases?($(".next-phase-btn a",parent.document).html("Go to Phase "+(Number(this.phaseNum)+1)),this.enableNextBtn()):($(".next-phase-btn a",parent.document).html("Lab Complete"),this.nextPhaseBtn.addClass("inactive").attr("aria-disabled","true"),this.nextPhaseBtn.removeAttr("tabindex")),this.phaseDiv.hasClass("results-phase")&&this.createResultsPage(),this.phaseDiv.hasClass("results-phase")?($("#phase-header em",parent.document).hide(),$(".sim-step span",parent.document).hide(),this.isCompleted||$("#phase-"+this.phaseNum+"-outline",parent.document).parent().addClass("complete"),this.isCompleted=!0):($("#phase-header em",parent.document).show(),$(".sim-step span",parent.document).show()),s.mainLab.hideAriaAlert(),this.phaseDiv.show();var a=$(".sim-steps",parent.document);a[0].clientHeight<a[0].scrollHeight?a.attr("tabindex",0):a.attr("tabindex","-1"),this.phaseDiv.hasClass("inputs")?((a=this.phaseDiv.find("#question-holder")).length>0&&(a[0].clientHeight<a[0].scrollHeight?a.attr("tabindex",0):a.removeAttr("tabindex")),(a=this.phaseDiv.find("#graph-phase")).length>0&&(a[0].clientHeight<a[0].scrollHeight?a.attr("tabindex",0):a.removeAttr("tabindex"))):this.phaseDiv.hasClass("results-phase")&&(a=this.phaseDiv.find("#results-phase")).length>0&&(a[0].clientHeight<a[0].scrollHeight||!0===s.mainLab.isScreenReader?a.attr("tabindex",0):a.removeAttr("tabindex")),!1===s.mainLab.loading?s.mainLab.isScreenReader?$("#instructions-wrapper",parent.document).focus():$("#menu-lab",parent.document).focus():$("#sim-title",parent.document).focus(),s.mainLab.loading=!1}},{key:"checkIfPhaseCorrect",value:function(){if(this.isCorrect=!0,this.incorrectSteps=[],this.forceReset=!1,void 0!==s.thisLab.labData&&s.thisLab.labData.obj.is(":visible")&&0!==s.thisLab.labData.errorCount)s.thisLab.labData.errorCount=0;else{for(var e=1;e<this.stepsArray.length;e++)this.stepsArray[e].addCheckToStepText(),this.stepsArray[e].completed?!1===this.isCorrect&&-1===this.stepsArray[e].text.indexOf("Lab Data")&&(this.forceReset=!0):(this.isCorrect=!1,this.incorrectSteps.push(e));if(this.isCorrect)this.setCompleted(),void 0!==s.mainLab.userValues.phaseResets[this.phaseNum]&&null!==s.mainLab.userValues.phaseResets[this.phaseNum]||(s.mainLab.userValues.phaseResets[this.phaseNum]=0);else{if(this.phaseDiv.has("#question-holder").length>0&&(this.forceReset=!1),this.incorrectSteps.length>1){var t=this.incorrectSteps.pop();t=this.incorrectSteps.join(", ")+" and "+t,this.incorrectPhaseText="Steps "+t+" were not completed correctly.<br /><br />"}else this.incorrectPhaseText="Step "+this.incorrectSteps[0]+" was not completed correctly.<br /><br />";if(this.phaseDiv.is(".no-reset"))s.mainLab.showIncorrectAlert("This phase was not completed correctly.  Please correct your mistakes.<br /><br />",null),this.phaseDiv.get(0).dispatchEvent(new CustomEvent("gradedPhase",{bubbles:!0}));else{var a=this.getIncorrectPhaseText(this.incorrectPhaseText);!0===this.forceReset?s.mainLab.showIncorrectPhaseAlert(a):this.phaseDiv.has("div#question-holder").length>0?s.mainLab.showIncorrectAlert(a+" Please try again.",null):s.mainLab.showIncorrectAlert(a+" Please finish the phase.",null)}void 0===s.mainLab.userValues.completed&&(void 0===s.mainLab.userValues.phaseResets[this.phaseNum]||null===s.mainLab.userValues.phaseResets[this.phaseNum]?s.mainLab.userValues.phaseResets[this.phaseNum]=1:s.mainLab.userValues.phaseResets[this.phaseNum]=s.mainLab.userValues.phaseResets[this.phaseNum]+1)}}}},{key:"getIncorrectPhaseText",value:function(){return this.incorrectPhaseText}},{key:"setCompleted",value:function(){var e=this.phaseNum+1;if(!this.isCompleted&&this.numSteps>0&&($(".steps-complete").css("z-index","2002"),$(".steps-complete").show(),$(".steps-complete").animate({opacity:1},600),setTimeout(this.hideProgressAlert.bind(this),600,this.phaseNum),this.disableNextBtn(),$("#phase-"+this.phaseNum+"-outline",parent.document).parent().addClass("complete"),s.mainLab.setAriaAlertText("Phase complete. Your progress has been saved.")),this.isCompleted=!0,(0,r.setBlockEvents)(!0),this.phaseDiv.hasClass("inputs"))for(var t=0;t<this.objects.length;t++)this.objects[t].setEnabled(!1);e<=s.mainLab.totalPhases&&s.mainLab.phases[e].setOutlineLinkActive(!0),e>s.mainLab.progress&&(s.mainLab.userValues.progress=e,s.mainLab.progress=e),this.phaseDiv.is(".no-reset")&&this.phaseDiv.addClass("graded");for(var a=0;a<this.objects.length;a++)this.objects[a].complete()}},{key:"hide",value:function(){this.phaseDiv.hide()}},{key:"enableNextBtn",value:function(){this.nextPhaseBtn.removeClass("inactive").attr("aria-disabled","false"),this.nextPhaseBtn.attr("tabindex","0")}},{key:"disableNextBtn",value:function(){this.nextPhaseBtn.addClass("inactive").attr("aria-disabled","true"),this.nextPhaseBtn.removeAttr("tabindex")}},{key:"setOutlineLinkActive",value:function(e){var t=$("#phase-"+this.phaseNum+"-outline",parent.document);e?($(t).addClass("active"),$(t).on("click",this.gotoPhaseCalled.bind(this)),$(t).attr("tabindex","0"),$(t).removeAttr("aria-disabled"),$(t).css("cursor","pointer")):($(t).removeClass("active"),$(t).off("click"),$(t).removeAttr("tabindex"),$(t).attr("aria-disabled","true"),$(t).css("cursor","default"))}},{key:"hideProgressAlert",value:function(){$(".steps-complete").animate({opacity:0},1500,function(){$(".steps-complete").css("z-index","800"),$(".steps-complete").hide(),this.onComplete(),s.mainLab.gotoPhase(Number(s.mainLab.currentPhaseNum)+1)}.bind(this))}},{key:"onComplete",value:function(){}},{key:"gotoPhaseCalled",value:function(e){e.preventDefault(),s.mainLab.gotoPhase(this.phaseNum)}},{key:"createResultsPage",value:function(){if(void 0===s.mainLab.userValues.completed){var e=new Date;s.mainLab.userValues.completed=e.toLocaleDateString("en-us")+" "+e.toLocaleTimeString("en-us"),s.mainLab.justCompleted=!0}if(!0===s.mainLab.lmsIntegrationMode&&s.mainLab.STW.mode===s.mainLab.STW.MODE_POST_TEST){this.phaseDiv.find("#instructor-review").remove(),this.phaseDiv.find("#results-phase").prepend('<div id="instructor-review"></div>'),this.phaseDiv.find("#instructor-review").append('<div id="lab-complete-status"><h2>Phases Complete</h2> '+(s.mainLab.userValues.progress-1)+" of "+(s.mainLab.phases.length-2)+" phases.</div>"),this.phaseDiv.find("#instructor-review").append('<h2 class="phase-resets">Phase Resets</h2>');var t=$('<div><ul id="phase-resets" style="list-style-type:none;"></ul></div>');$.each(s.mainLab.userValues.phaseResets,function(e,a){0!==e&&t.append("<li>Phase "+e+": "+a+"</li>")}),this.phaseDiv.find("#instructor-review").append(t),void 0!==s.mainLab.userValues.popups&&s.mainLab.userValues.popups.length>0&&this.addPopupQuestionsToAdminResultsPage()}var a=this.getResultsStepHtml();if(void 0!==s.mainLab.hasGraphPhase&&!1!==s.mainLab.hasGraphPhase||a.find("#graph-img-save-help").remove(),$(".sim-steps",parent.document).html('<div class="sim-step">'+a.html()+"</div>"),void 0!==s.thisLab.labData){s.thisLab.labData.dataLoaded||s.thisLab.labData.loadData();var i=s.thisLab.labData.obj.find("form").clone();i.length>0?($("input",i).each(function(){$(this).replaceWith($("<span/>").text($(this).val()))}),$("select",i).each(function(){$(this).replaceWith($("<span/>").text($(this).find("option:selected").text()))}),$('button[data-type="image-loader"]',i).each(function(){$(this).replaceWith($(this).html())}),this.phaseDiv.find("#results-lab-data").html(i)):this.phaseDiv.find(".results-lab-data").hide()}else this.phaseDiv.find("#results-collected-lab-data").hide(),this.phaseDiv.find("#results-lab-data").remove();var n=this;if(n.phaseDiv.find("#results-saved-graphs").html(""),void 0!==s.mainLab.userValues.graphs?(n.phaseDiv.find("#results-saved-graphs").append("<br />"),$.each(s.mainLab.userValues.graphs,function(e,t){n.phaseDiv.find("#results-saved-graphs").append($("<h4/>").text(t.name)).append(t.svg)})):n.phaseDiv.find(".results-saved-graphs").hide(),void 0!==s.mainLab.userValues.notes&&n.phaseDiv.find("#results-my-notes").html("<br />"+s.mainLab.getNotes()===void 0?"":s.mainLab.getNotes()),n.phaseDiv.find("#results-questions").html(""),void 0!==s.mainLab.userValues.questions){s.mainLab.userValues.questions.sort(function(e,t){return e.phase===t.phase?e.question-t.question:e.phase-t.phase});for(var r=0;r<s.mainLab.userValues.questions.length;r++){var o=s.mainLab.userValues.questions[r].answer;if(void 0!==o){var l=o.split("<br />"),u=n.phaseDiv.find("#results-questions");u.append("<h2>"+l[0]+"</h2>");for(var h=1;h<l.length;h++)u.append(l[h]+"<br />\n")}}}""===n.phaseDiv.find("#results-questions").html()&&n.phaseDiv.find("#results-questions").hide()}},{key:"addPopupQuestionsToResultsPage",value:function(){this.phaseDiv.find(".results-learning").remove(),this.phaseDiv.find("h2.results-my-notes").before('<h2 class="results-learning">Learning Questions</h2><div id="results-learning" class="results-learning"></div>');var e=this.phaseDiv.find("#results-learning"),t=$(s.mainLab.stepXml).find("popup-questions"),a=$.map(s.mainLab.userValues.popups,function(e){return String(e.id)});t.find("question").each(function(){if(-1!==a.indexOf($(this).attr("id"))){e.append($("<span/>").html($(this).attr("q")));var t=$(this).attr("correct"),i="choice[id="+t+"]";if(-1!==t.indexOf(",")){var s=t.split(",");i="",$.each(s,function(e,t){i=i+"choice[id="+t+"]"+(e!==s.length-1?",":"")})}e.append($(this).find(i))}})}},{key:"addPopupQuestionsToAdminResultsPage",value:function(){this.phaseDiv.find("#instructor-review").append('<h2 class="results-popups">Popup Questions</h2><div id="results-popup" class="results-popup"></div>');var e=this.phaseDiv.find("#results-popup"),t=$(s.mainLab.stepXml).find("popup-questions"),a=$.map(s.mainLab.userValues.popups,function(e){return String(e.id)});t.find("question").each(function(){var t=$(this).attr("id");if(-1!==a.indexOf(t)){e.append($("<span/>").css({"font-weight":"bold",display:"block"}).html($(this).attr("q")));var i=$.grep(s.mainLab.userValues.popups,function(e){return e.id===Number(t)});e.append("<span>Incorrect Attempts: "+i[0].errors+"</span>")}})}},{key:"getResultsStepHtml",value:function(){return $('<div>Relevant Lab Data is available to be saved for personal reference.  This data will be available if you return to this laboratory simulation. <hr style="margin-bottom:0"/>\n        <ul class="intro-list">\n          <li>\n            <strong>Copy &amp; paste</strong> \n            <div id="graph-img-save-help" style="font-size: 12px;">To copy saved graph(s), you must take a screen shot of the graph(s).</div>\n          </li>\n          <li>\n            <strong>Print or save pdf</strong> \n            <div style="font-size: 12px;">Windows 10 and OS X both have native "print to pdf" capabilities.  Implementation differs slightly by browser.</div>\n          </li>\n        </ul></div>')}}]),e}()},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LabPhase=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),s=a(29),n=a(0);t.LabPhase=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Phase),i(t,[{key:"onComplete",value:function(){this.phaseNum>1&&this.phaseNum<5&&($("#no-zoom-"+this.phaseNum).show(),$("#zoom-"+this.phaseNum).hide(),this.btnZoomIn.obj.hide())}},{key:"reset",value:function(){(function e(t,a,i){null===t&&(t=Function.prototype);var s=Object.getOwnPropertyDescriptor(t,a);if(void 0===s){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,a,i)}if("value"in s)return s.value;var r=s.get;return void 0!==r?r.call(i):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"reset",this).call(this),$("#no-zoom-"+this.phaseNum).show(),$("#zoom-"+this.phaseNum).hide(),$("#zoom-in-"+this.phaseNum).hide(),$("#zoom-out-"+this.phaseNum).show(),n.thisLab.timer.hide()}},{key:"getIncorrectPhaseText",value:function(){return 1===this.phaseNum?this.hypothesis.feedbackText+this.strategy.feedbackText:5===this.phaseNum?this.conclusion.feedbackText:this.incorrectPhaseText}}]),t}()},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Question=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),s=a(0);t.Question=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.completed=!1,this.phaseNum=s.thisLab.currentPhase.phaseNum;var a=$(s.mainLab.stepXml).find('phase[id="'+this.phaseNum+'"]').find('question[id="'+t+'"]');this.choices=[],this.value=[],this.answer="",this.questionHeader=$(s.mainLab.stepXml).find('phase[id="'+this.phaseNum+'"]').find("step:eq("+(Number(t)-1)+")").find("reaction").html(),this.questionNum=t,this.correctValue=a.attr("correct"),-1===this.correctValue.indexOf(",")?this.multipleSelect=!1:this.multipleSelect=!0,this.isCorrect=!1,this.isAnswered=!1,this.questionText=$(a).attr("q");var i=this;a.find("choice").each(function(){i.choices.push($(this))}),this.questionDiv=$("#phase-"+this.phaseNum+" #question-holder");var n=$(a).attr("q"),r="";r=r+'<fieldset id="fieldset-'+this.phaseNum+"-"+this.questionNum+'"><legend>'+n+"</legend>\n";var o="radio";this.multipleSelect&&(o="checkbox");for(var l=0;l<this.choices.length;l++){var u=this.choices[l],h=u.attr("id");r=(r=r+'<div><input id="p'+this.phaseNum+"q"+t+h+'" name="p'+this.phaseNum+"q"+t+'" class="p'+this.phaseNum+"q"+t+'" value="'+h+'" type="'+o+'"data-feedback="'+u.find("feedback").html()+'" aria-labelledby="l'+this.phaseNum+"q"+t+h+'" />\n')+'<label class="checkmark" aria-hidden="true" id="l'+this.phaseNum+"q"+t+h+'" for="p'+this.phaseNum+"q"+t+h+'">'+u.find("text").html()+"</label></div>\n"}r+="</fieldset>\n";for(var c=$(r),d=0;d<this.choices.length;d++)$(c).append($(">div",c).eq(Math.floor(Math.random()*this.choices.length)));var p=["A.","B.","C.","D.","E.","F.","G."];$("div",c).each(function(e){$(this).attr("data-label",p[e]),$("label",$(this)).html("<span>"+p[e]+" </span>"+$("label",$(this)).html())}),this.questionHtml=c[0].outerHTML,void 0===s.mainLab.userValues.questions&&(s.mainLab.userValues.questions=[]),this.questionDiv.append(this.questionHtml),this.fieldset=$("#fieldset-"+this.phaseNum+"-"+this.questionNum),this.handleChange=function(){var e=[],t=[];i.fieldset.find("input:checked").each(function(){t.push($(this).parent().find("label").clone().find("span:first").remove().end().html()),e.push(Number($(this).val()))}),i.multipleSelect||(i.fieldset.find("input").attr("tabindex","-1"),i.fieldset.find("input:checked").attr("tabindex","0")),i.selectAnswer(e,t)},$(".p"+this.phaseNum+"q"+this.questionNum).change(this.handleChange),s.thisLab.currentPhase.objects.push(this)}return i(e,[{key:"init",value:function(){this.reset(!0)}},{key:"complete",value:function(){this.setEnabled(!0);var e=this,t=$.grep(s.mainLab.userValues.questions,function(t){return t.phase===e.phaseNum&&t.question===e.questionNum});if(1===t.length){e.value=t[0].value;for(var a=[],i=0;i<=this.value.length;i++)$(".p"+this.phaseNum+"q"+this.questionNum+"[value="+this.value[i]+"]").prop("checked",!0),a.push($(".p"+this.phaseNum+"q"+this.questionNum+"[value="+this.value[i]+"]").parent().find("label").clone().find("span:first").remove().end().html());this.selectAnswer(this.value,a,!0)}this.setEnabled(!1)}},{key:"reset",value:function(e){this.feedbackText="<h4>"+this.questionHeader+"</h4><div>No answer was given</div><br />",this.selectAnswer([],[],!0),this.fieldset.find("input").prop("checked",!1),this.setEnabled(!0)}},{key:"setEnabled",value:function(e){this.enabled!==e&&(e?(this.multipleSelect?$(".p"+this.phaseNum+"q"+this.questionNum).attr("tabindex","0"):($(".p"+this.phaseNum+"q"+this.questionNum).attr("tabindex","-1"),$(".p"+this.phaseNum+"q"+this.questionNum).first().attr("tabindex","0")),$(".p"+this.phaseNum+"q"+this.questionNum).focus(function(){$(this).parent().addClass("focus-border")}),$(".p"+this.phaseNum+"q"+this.questionNum).focusout(function(){$(this).parent().removeClass("focus-border")})):$(".p"+this.phaseNum+"q"+this.questionNum).attr("tabindex",-1),$(".p"+this.phaseNum+"q"+this.questionNum).attr("disabled",!e))}},{key:"selectAnswer",value:function(e,t,a){this.value=e,this.isAnswered=e.length>0,this.isCorrect=!0;var i=!1;if(""!==this.correctValue)if(0===e.length)this.isCorrect=!1,this.feedbackText="<h4>"+this.questionHeader+"</h4><div>No answer was given</div><br />";else{var n=this.correctValue.split(",");""===n[1]&&n.pop();for(var r=","+this.correctValue+",",o=0;o<this.value.length;o++)-1===r.indexOf(","+this.value[o]+",")?this.isCorrect=!1:this.multipleSelect&&(i=!0);if(this.multipleSelect&&this.isCorrect&&n.length!==e.length&&(this.isCorrect=!1),!a)if(this.isCorrect)this.feedbackText="";else{this.feedbackText=i?"<h4>"+this.questionHeader+" Partially correct</h4>":"<h4>"+this.questionHeader+" Incorrect</h4>";var l=this;this.fieldset.find("input:checked").each(function(){"undefined"!==$(this).attr("data-feedback")&&(l.feedbackText=l.feedbackText+"<div>"+(!0===l.multipleSelect?"<span>"+$(this).parent().attr("data-label")+" </span>":"")+$(this).attr("data-feedback")+"</div>")}),this.feedbackText=this.feedbackText+"<br />"}}else a||(this.feedbackText="");!a&&this.isCorrect?s.thisLab.currentPhase.stepsArray[this.questionNum].complete():s.thisLab.currentPhase.stepsArray[this.questionNum].reset(),t=""!==t?s.mainLab.phases[this.phaseNum].stepsArray[this.questionNum].reactionText+"<br />"+t.join("<br />"):s.mainLab.phases[this.phaseNum].stepsArray[this.questionNum].text;var u=this;if(!a){var h=$.grep(s.mainLab.userValues.questions,function(e){return e.phase===u.phaseNum&&e.question===u.questionNum});1===h.length?(h[0].value=e,h[0].answer=t,this.isCorrect||(h[0].errors=h[0].errors+1)):((h={}).phase=u.phaseNum,h.question=u.questionNum,h.value=e,h.answer=t,this.isCorrect?h.errors=0:h.errors=1,s.mainLab.userValues.questions.push(h))}$("#out-p"+this.phaseNum+"s"+this.questionNum,parent.document).html(t)}},{key:"getAnswerValue",value:function(){return!1===this.multipleSelect?0!==this.value.length&&Number(this.value[0]):0!==this.value.length&&this.value.map(Number)}}]),e}()},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Clickable=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),s=a(1),n=a(3);t.Clickable=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.type="clickable",s.domObjectToSimObject.push({id:a.obj.attr("id"),obj:a}),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.SimObject),i(t,[{key:"clicked",value:function(){}}]),t}()},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BtnZoom=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),s=a(32),n=a(0);var r=function(e){function t(e,a,i,s,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.zoomIn=a,o.zoomInDiv=null===s||void 0===s?$("#zoom-"+n.thisLab.currentPhase.phaseNum):s,o.zoomOutDiv=null===r||void 0===r?$("#no-zoom-"+n.thisLab.currentPhase.phaseNum):r,o.disableHelp=!0,o.reactionText=i,o.addOn="",o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Clickable),i(t,[{key:"setReactionText",value:function(e){this.reactionText=e}},{key:"appendReactionText",value:function(e){this.reactionText+=e}},{key:"addOnReactionText",value:function(e){this.addOn=e}},{key:"clicked",value:function(){this.zoomIn?(this.zoomInDiv.show(),this.zoomOutDiv.hide(),n.mainLab.setAriaAlertText(this.reactionText+this.addOn),this.disableHelp&&n.mainLab.setHelpEnabled(!1)):(this.zoomInDiv.hide(),this.zoomOutDiv.show(),n.mainLab.setAriaAlertText(this.reactionText+this.addOn),n.mainLab.setHelpEnabled(!0))}},{key:"complete",value:function(){this.zoomIn&&this.obj.hide()}},{key:"reset",value:function(e){}},{key:"setEnabled",value:function(e){}}]),t}();t.BtnZoom=r},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LabBase=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),s=a(1),n=a(0);t.LabBase=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),$(document).on("click",{isTouch:!1},s.clickObject),$(document).on("keydown",{isTouch:!1},s.keyDown),n.mainLab.isMobile?($(document).on("touchstart",{isTouch:!0},s.clickObject),$(document).on("touchend",{isTouch:!0},s.clickObject)):$(document).on("mousedown.tryDrag",s.mouseDown),$(document).focusin(function(e){if(n.mainLab.keyboardUser){var t;t=$(e.target).attr("aria-label"),console.log("Aria label: "+t),(null!==n.mainLab.activeObject||Number($(".notabout:visible",parent.document).length)>0)&&n.mainLab.focusIn(e)}}),$(document).on("focusout",function(e){!n.mainLab.keyboardUser||n.mainLab.isScreenReader&&!n.mainLab.shiftKeyUsed||null!==e.relatedTarget&&$(e.relatedTarget).is("html")&&$("#menu-lab",parent.document).focus()}),$('[data-toggle="tooltip"]').tooltip({trigger:"hover"})}return i(e,[{key:"addPhase",value:function(e){n.mainLab.phases.push(e),n.thisLab.currentPhase=n.mainLab.phases[n.mainLab.phases.length-1]}},{key:"initLabSimulation",value:function(){}}]),e}()},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Lab=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),s=a(34),n=a(0),r=a(7),o=a(33),l=a(31),u=a(30),h=a(27),c=a(26),d=a(25),p=a(24),b=a(23);$(document).ready(function(){var e=new m;(0,n.setThisLab)(e),n.mainLab.setThisLab(n.thisLab)});var m=t.Lab=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.LabBase),i(t,[{key:"initLabSimulation",value:function(){this.labData=new b.ThisLabData,this.timer=new r.Timer;for(var e=3;e<=4;e++)n.mainLab.copyPhase(2,e);for(n.thisLab.addPhase(new u.LabPhase(1)),n.thisLab.currentPhase.hypothesis=new l.Question(1),n.thisLab.currentPhase.strategy=new l.Question(2),e=2;e<=4;e++)n.thisLab.addPhase(new u.LabPhase(e)),n.thisLab.currentPhase.cornSyrup10=new h.CornSyrup({domObject:$("#corn-syrup-ten-"+e),targets:["thistle-tube","table-left"],targetPositions:[["56.150%","-24.650%"]],transformTargets:[{id:"thistle-tube"}],triggerArea:{left:5,top:25,right:15,bottom:60}},10),n.thisLab.currentPhase.cornSyrup20=new h.CornSyrup({domObject:$("#corn-syrup-twenty-"+e),targets:["thistle-tube","table-left"],targetPositions:[["56.150%","-24.650%"]],transformTargets:[{id:"thistle-tube"}],triggerArea:{left:5,top:25,right:15,bottom:60}},20),n.thisLab.currentPhase.cornSyrup30=new h.CornSyrup({domObject:$("#corn-syrup-thirty-"+e),targets:["thistle-tube","table-right"],targetPositions:[["56.150%","-24.650%"]],transformTargets:[{id:"thistle-tube"}],triggerArea:{left:5,top:25,right:15,bottom:60}},30),n.thisLab.currentPhase.water=new p.Water({domObject:$("#water-"+e),targets:["beaker","table-right"],targetPositions:[["56.150%","-24.650%"]],transformTargets:[{id:"beaker"}],triggerArea:{left:5,top:25,right:15,bottom:60}}),n.thisLab.currentPhase.tube=new c.ThistleTube({domObject:$("#beaker-"+e),imageNames:"null,mid-beaker-syrup-15,mid-beaker-syrup-water-15,mid-beaker-syrup-water,mid-beaker-water,mid-beaker-syrup,mid-beaker-membrane"}),n.thisLab.currentPhase.membrane=new d.Membrane({domObject:$("#membrane-"+e),targets:["thistle-tube"],transformTargets:[{id:"thistle-tube",left:30,top:-30,right:60,bottom:70}],triggerArea:{left:30,top:0,right:60,bottom:100}}),n.thisLab.currentPhase.btnZoomIn=new o.BtnZoom({domObject:$("#zoom-in-"+e)},!0),n.thisLab.currentPhase.btnZoomOut=new o.BtnZoom({domObject:$("#zoom-out-"+e)},!1);n.thisLab.addPhase(new u.LabPhase(5)),n.thisLab.currentPhase.conclusion=new l.Question(1),n.mainLab.phases.push(new u.LabPhase(6))}}]),t}()},function(e,t,a){"use strict";var i,s=a(35);(i=s)&&i.__esModule;a(21),a(14),a(12),a(11),a(10)}]);
//# sourceMappingURL=lab-scripts.js.map